<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="专注于编程技术和数据科学、人工智能">
  <meta name="keyword" content="人工智能, 数据科学, Python, 编程, 程序员, 开发者, web, 网站, 语言, 程序, UI, 美工, 设计师">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      python绝技30例 | 老齐教室
    
  </title>
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  
  
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


<meta name="generator" content="Hexo 4.2.0"></head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>老齐教室</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">首页</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">书籍</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/courses/" class="item-link">课程</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">类目</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/resources/" class="item-link">资源</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">关于</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">首页</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">书籍</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/courses/" class="menu-link">课程</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">类目</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/resources/" class="menu-link">资源</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">关于</a>
            

          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  
  <!-- <div class="arrow-down">
    <a href="javascript:;"></a>
  </div> -->
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <h2>python绝技30例</h2>
    <p class="post-date">2020-01-24</p>
    <section class="markdown-content"><h1 id="Python绝技30例"><a href="#Python绝技30例" class="headerlink" title="Python绝技30例"></a>Python绝技30例</h1><p>作者：Erik-Jan van Baaren</p>
<p>翻译：老齐</p>
<hr>
<p>如果你使用Python，下面要介绍的30个技巧，是能够让你提高编码效率的最佳方案，不得不看。</p>
<p><strong>Life is short, You need Python.</strong></p>
<img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/my_book4_20200116132005.png" style="zoom:67%;" />

<h2 id="1-使用Python3"><a href="#1-使用Python3" class="headerlink" title="1.使用Python3"></a>1.使用Python3</h2><p>从2020年1月1日起，Python2已经正式退役了。下面的所有说明，都仅适用于Python3。如果你还停留在Python2.7，现在就应该升级。MacOS系统中，使用Homebrew就能轻松升级Python。</p>
<h2 id="2-检查程序所需的最低Python版本"><a href="#2-检查程序所需的最低Python版本" class="headerlink" title="2.检查程序所需的最低Python版本"></a>2.检查程序所需的最低Python版本</h2><p>你可以检查程序中的Python版本，以确保用户没有使用不兼容的版本运行。可以用下列代码进行简单检查：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if not sys.version_info &gt; (2, 7):</span><br><span class="line">    # berate your user for running a 10 year </span><br><span class="line">    # python version</span><br><span class="line">elif not sys.version_info &gt;&#x3D; (3, 5):</span><br><span class="line">    # Kindly tell your user (s)he needs to upgrade </span><br><span class="line">    # because you&#39;re using 3.5 features</span><br></pre></td></tr></table></figure>

<h2 id="3-使用IPython"><a href="#3-使用IPython" class="headerlink" title="3.使用IPython"></a>3.使用IPython</h2><p><img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/p1_20200120183458.png" alt=""></p>
<p>IPython基本上是一个增强的shell，只看它的拼写自动填充功能，你就觉得用它是值得的。它的优点有很多，我很喜欢所有内置的魔法命令，在这里列举几个这样的命令：</p>
<ul>
<li>%cd —— 更改当前工作目录</li>
<li>%edit —— 打开编辑器并在关闭编辑器后执行键入的代码</li>
<li>%env —— 显示当前环境变量</li>
<li>%pip install [pkgs] —— 在不离开交互式shell的情况下安装软件包</li>
<li>%time和%timeit —— 对Python代码的执行进行计时</li>
</ul>
<p>另一个有用的特性是引用前面的输出，In和Out都是实际的对象，你可以借助Out[3]来使用第三个命令的输出。</p>
<p>安装IPython:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install ipython</span><br></pre></td></tr></table></figure>

<h2 id="4-列表解析"><a href="#4-列表解析" class="headerlink" title="4. 列表解析"></a>4. 列表解析</h2><p>列表解析可以替换丑陋的用于追加列表的for循环。列表解析的基本语法是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ expression for item in list if conditional ]</span><br></pre></td></tr></table></figure>

<p>下面的示例演示了用数字填充列表的操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mylist &#x3D; [i for i in range(10)] </span><br><span class="line">print(mylist)</span><br><span class="line"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>

<p>可以使用一个表达式，也可以做一些数学运算：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">squares &#x3D; [x**2 for x in range(10)]</span><br><span class="line">print(squares)</span><br><span class="line"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br></pre></td></tr></table></figure>

<p>甚至调用外部函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def some_function(a):</span><br><span class="line">    return (a + 5) &#x2F; 2</span><br><span class="line"></span><br><span class="line">my_formula &#x3D; [some_function(i) for i in range(10)]</span><br><span class="line">print(my_formula)</span><br><span class="line"># [2, 3, 3, 4, 4, 5, 5, 6, 6, 7]</span><br></pre></td></tr></table></figure>

<p>还可以在列表中使用<code>if</code>实现筛选操作，例如找出偶数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">filtered &#x3D; [i for i in range(20) if i%2&#x3D;&#x3D;0] </span><br><span class="line">print(filtered)</span><br><span class="line"># [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]</span><br></pre></td></tr></table></figure>

<h2 id="5-检查对象占用的内存"><a href="#5-检查对象占用的内存" class="headerlink" title="5.检查对象占用的内存"></a>5.检查对象占用的内存</h2><p>使用<code>sys.getsizeof()</code>可以检查对象的内存使用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import sys 2</span><br><span class="line"></span><br><span class="line">mylist &#x3D; range(0, 10000)</span><br><span class="line">print(sys.getsizeof(mylist))</span><br><span class="line">#48</span><br></pre></td></tr></table></figure>

<p>稍等，为什么这个大列表只有48字节？</p>
<p>这是因为range函数返回的类只表现为一个列表，range函数比使用实际的数字列表更节省内存。</p>
<p>你可以使用列表解析来创建一个包含相同范围数字的列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import sys 2</span><br><span class="line">myreallist &#x3D; [x for x in range(0, 10000)]</span><br><span class="line">print(sys.getsizeof(myreallist))</span><br><span class="line"># 87632</span><br></pre></td></tr></table></figure>

<img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/%E8%BD%BB%E6%9D%BE%E5%85%A5%E9%97%A8_20200122130623.png" style="zoom:67%;" />

<h2 id="6-返回多个值"><a href="#6-返回多个值" class="headerlink" title="6. 返回多个值"></a>6. 返回多个值</h2><p>Python中的函数可以返回多个值，不需要把它们组装成字典、列表或类，原理如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def get_user(id):</span><br><span class="line">    # fetch user from database </span><br><span class="line">    # ....</span><br><span class="line">    return name, birthdate</span><br><span class="line"></span><br><span class="line">name, birthdate &#x3D; get_user(4)</span><br></pre></td></tr></table></figure>

<p>对于有限数量的返回值，这是可以的。但任何超过3个值的都应该放入指定的数据对象中。</p>
<h2 id="7-使用数据类"><a href="#7-使用数据类" class="headerlink" title="7.使用数据类"></a>7.使用数据类</h2><p>自3.7版以来，Python提供了数据类（data class）。比起普通的类或其他的，如返回多个值或字典，数据类有几个优点：</p>
<ul>
<li>数据类需要的代码数量少</li>
<li>借助<code>__eq__</code>能够实现数据类对象的比较</li>
<li><code>__repr__</code>为调试时打印数据类提供了接口</li>
<li>数据类需要有类型提示，减少了出现bug的可能性</li>
</ul>
<p>下面是数据类示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from dataclasses import dataclass 2</span><br><span class="line"></span><br><span class="line">@dataclass</span><br><span class="line">class Card:</span><br><span class="line">    rank: str</span><br><span class="line">    suit: str</span><br><span class="line"></span><br><span class="line">card &#x3D; Card(&quot;Q&quot;, &quot;hearts&quot;) 9</span><br><span class="line"></span><br><span class="line">print(card &#x3D;&#x3D; card)</span><br><span class="line"># True</span><br><span class="line"></span><br><span class="line">print(card.rank)</span><br><span class="line">#&#39;Q&#39;</span><br><span class="line"></span><br><span class="line">print(card)</span><br><span class="line">Card(rank&#x3D;&#39;Q&#39;, suit&#x3D;&#39;hearts&#39;)</span><br></pre></td></tr></table></figure>

<h2 id="8-变量就地交换"><a href="#8-变量就地交换" class="headerlink" title="8.变量就地交换"></a>8.变量就地交换</h2><p>一个可以节省几行代码的小技巧：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a&#x3D;1</span><br><span class="line">b&#x3D;2</span><br><span class="line">a, b &#x3D; b, a</span><br><span class="line"></span><br><span class="line">print (a)</span><br><span class="line">#2</span><br><span class="line"></span><br><span class="line">print (b) </span><br><span class="line">#1</span><br></pre></td></tr></table></figure>

<h2 id="9-合并字典（Python3-5-）"><a href="#9-合并字典（Python3-5-）" class="headerlink" title="9.合并字典（Python3.5+）"></a>9.合并字典（Python3.5+）</h2><p>自Python 3.5以来，合并字典变得更加容易：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dict1&#x3D;&#123;&#39;a&#39;:1,&#39;b&#39;:2&#125;</span><br><span class="line">dict2&#x3D;&#123;&#39;b&#39;:3,&#39;c&#39;:4&#125;</span><br><span class="line">merged &#x3D; &#123; **dict1, **dict2 &#125;</span><br><span class="line">print (merged)</span><br><span class="line"># &#123;&#39;a&#39;: 1, &#39;b&#39;: 3, &#39;c&#39;: 4&#125;</span><br></pre></td></tr></table></figure>

<p>如果存在重复的键，第一个字典中的键值对将被覆盖。</p>
<img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/Django2%E7%AB%8B%E4%BD%93%E5%9B%BE_20200117164816.png" style="zoom:67%;" />

<h2 id="10-标题首字母大写"><a href="#10-标题首字母大写" class="headerlink" title="10. 标题首字母大写"></a>10. 标题首字母大写</h2><p>这只是字符串方法中的一个惬意之处：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mystring &#x3D; &quot;10 awesome python tricks&quot; </span><br><span class="line">print(mystring.title())</span><br><span class="line"># &#39;10 Awesome Python Tricks&#39;</span><br></pre></td></tr></table></figure>

<h2 id="11-将字符串拆分为列表"><a href="#11-将字符串拆分为列表" class="headerlink" title="11.将字符串拆分为列表"></a>11.将字符串拆分为列表</h2><p>可以将字符串拆分为列表。在本例中，以空格为分隔符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mystring &#x3D; &quot;The quick brown fox&quot;</span><br><span class="line">mylist &#x3D; mystring.split(&#39; &#39;)</span><br><span class="line">print(mylist)</span><br><span class="line"># [&#39;The&#39;, &#39;quick&#39;, &#39;brown&#39;, &#39;fox&#39;]</span><br></pre></td></tr></table></figure>

<h2 id="12-将列表组合成字符串"><a href="#12-将列表组合成字符串" class="headerlink" title="12. 将列表组合成字符串"></a>12. 将列表组合成字符串</h2><p>与前面的操作相反，将列表中的元素组合为字符串，并在每个元素之间以空格为分隔符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mylist &#x3D; [&#39;The&#39;, &#39;quick&#39;, &#39;brown&#39;, &#39;fox&#39;]</span><br><span class="line">2 mystring &#x3D; &quot; &quot;.join(mylist)</span><br><span class="line">3 print(mystring)</span><br><span class="line">4 # &#39;The quick brown fox&#39;</span><br></pre></td></tr></table></figure>

<p>如果你想问为什么不是<code>mylist.join(&quot; &quot;)</code>——好问题！</p>
<p>归根结底，<code>String.join()</code>函数不仅可以连接列表，还可以连接任何可迭代对象。把它放在字符串中可以防止在多个地方实现相同的功能。</p>
<h2 id="13-表情符号"><a href="#13-表情符号" class="headerlink" title="13. 表情符号"></a>13. 表情符号</h2><p><img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/p2_20200121135809.png" alt=""></p>
<p>这些表情符号，要么给人留下深刻印象，要么让人反感，这取决于谁在看。更重要的是，在分析社交媒体数据时，它可以派上用场。</p>
<p>首先，安装EMOJI模块：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install emoji</span><br></pre></td></tr></table></figure>

<p>安装完毕，你可以做以下事情：</p>
<p><img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/p3_20200121140838.png" alt=""></p>
<p>访问emoji的官方网站，可以看到更多示例。</p>
<h2 id="14-列表切片"><a href="#14-列表切片" class="headerlink" title="14. 列表切片"></a>14. 列表切片</h2><p>列表切片的基本语法是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[start:stop:step]</span><br></pre></td></tr></table></figure>

<p>Start，表示开始的索引；stop，表示结束位置的索引；ste，表示步长。start的默认值是0，step的默认值是1.</p>
<p>下面是一些例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个列表，获取其前两个元素。</span><br><span class="line">first_two &#x3D; [1, 2, 3, 4, 5][0:2]</span><br><span class="line">print(first_two)</span><br><span class="line"># [1, 2]</span><br><span class="line"></span><br><span class="line"># 将步长设置为2，即隔一个取一个元素：</span><br><span class="line">steps &#x3D; [1, 2, 3, 4, 5][0:5:2]</span><br><span class="line">print(steps)</span><br><span class="line"># [1, 3, 5]</span><br><span class="line"></span><br><span class="line"># 字符串也可以做同样的切片。</span><br><span class="line">mystring &#x3D; &quot;abcdefdn nimt&quot;[::2]</span><br><span class="line">print(mystring)</span><br><span class="line"># &#39;aced it&#39;</span><br></pre></td></tr></table></figure>

<h2 id="15-反转字符串和列表"><a href="#15-反转字符串和列表" class="headerlink" title="15. 反转字符串和列表"></a>15. 反转字符串和列表</h2><p>你可以使用上面的切片来反转字符串或列表，将步长值设置为-1，可以反转元素：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">revstring &#x3D; &quot;abcdefg&quot;[::-1]</span><br><span class="line">print(revstring)</span><br><span class="line"># &#39;gfedcba&#39;</span><br><span class="line"></span><br><span class="line">revarray &#x3D; [1, 2, 3, 4, 5][::-1]</span><br><span class="line">print(revarray)</span><br><span class="line"># [5, 4, 3, 2, 1]</span><br></pre></td></tr></table></figure>

<h2 id="16-读取图片"><a href="#16-读取图片" class="headerlink" title="16. 读取图片"></a>16. 读取图片</h2><p>用Python读取图片，首先，安装Pillow，这是Python中的一个图像库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install Pillow</span><br></pre></td></tr></table></figure>

<p>现在将这个图像下载到本地，命名为kittens.jpg：</p>
<p><img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/p4_20200121151547.png" alt=""></p>
<p>用下面的Python代码读此图片文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from PIL import Image 2</span><br><span class="line">im &#x3D; Image.open(&quot;kittens.jpg&quot;)</span><br><span class="line">im.show()</span><br><span class="line">print(im.format, im.size, im.mode)</span><br><span class="line">6 # JPEG (1920, 1357) RGB</span><br></pre></td></tr></table></figure>

<p>Pillow不仅仅可以显示图像，它可以对图像进行分析、调整大小、过滤、变形等。有关其所有功能，请参阅文档。</p>
<h2 id="17-使用map"><a href="#17-使用map" class="headerlink" title="17.使用map()"></a>17.使用map()</h2><p>map()是Python的一个内置函数，它的语法是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map(function, something_iterable)</span><br></pre></td></tr></table></figure>

<p>所以你给它一个要执行的函数和一些要执行的东西，可以是任何可迭代的东西。在下面的示例中，我将使用一个列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def upper(s):</span><br><span class="line">    return s.upper()</span><br><span class="line"></span><br><span class="line">mylist &#x3D; list(map(upper, [&#39;sentence&#39;, &#39;fragment&#39;]))</span><br><span class="line">print(mylist)</span><br><span class="line"># [&#39;SENTENCE&#39;, &#39;FRAGMENT&#39;]</span><br><span class="line"></span><br><span class="line"># Convert a string representation of</span><br><span class="line"># a number into a list of ints.</span><br><span class="line">list_of_ints &#x3D; list(map(int, &quot;1234567&quot;)))</span><br><span class="line">print(list_of_ints)</span><br><span class="line"># [1, 2, 3, 4, 5, 6, 7]</span><br></pre></td></tr></table></figure>

<p>看看你自己的代码，是否可以使用<code>map()</code>而不是某个循环！</p>
<h2 id="18-从列表或字符串中获取唯一元素"><a href="#18-从列表或字符串中获取唯一元素" class="headerlink" title="18.从列表或字符串中获取唯一元素"></a>18.从列表或字符串中获取唯一元素</h2><p>使用<code>set()</code>函数创建集合，你可以从列表或类似列表的对象中获取所有的唯一元素：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mylist&#x3D;[1,1,2,3,4,5,5,5,6,6]</span><br><span class="line">print (set(mylist))</span><br><span class="line"># &#123;1, 2, 3, 4, 5, 6&#125;</span><br><span class="line"></span><br><span class="line"># And since a string can be treated like a</span><br><span class="line"># list of letters, you can also get the</span><br><span class="line"># unique letters from a string this way:</span><br><span class="line">print (set(&quot;aaabbbcccdddeeefff&quot;))</span><br><span class="line"># &#123;&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="19-找出高频值"><a href="#19-找出高频值" class="headerlink" title="19. 找出高频值"></a>19. 找出高频值</h2><p>要在列表或字符串中查找最常出现的值，请执行以下操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;[1,2,3,4,2,2,3,1,4,4,4] </span><br><span class="line">print(max(set(test), key &#x3D; test.count)) </span><br><span class="line">#4</span><br></pre></td></tr></table></figure>

<p>你明白为什么这样能奏效吗？在阅读下文之前，试着自己弄清楚。</p>
<p>你没试过吧？不管怎样，我都会告诉你：</p>
<ul>
<li><code>max()</code>将返回列表中的最大值。<code>key</code>参数的值是一个函数，它定义了排序规则，在本例中为<code>test.count</code>，该函数应用于可迭代对象的每个项。</li>
<li><code>test.count</code>是列表的方法，它接受一个参数并计算该参数的出现次数。所以<code>test.count(1)</code>将返回2，<code>test.count(4)</code>返回4。</li>
<li><code>set(test)</code>返回<code>test</code>中的所有唯一值，因此得到<code>{1、2、3、4}</code></li>
</ul>
<p>所以我们在这一行代码中要做的是获取<code>test</code>的所有唯一值，即<code>{1，2，3，4}</code>。接下来，<code>max</code>将把<code>list.count</code>函数应用于它们并返回最大值。</p>
<p>诚然，这行代码不是我发明的。</p>
<h2 id="20-创建进度条"><a href="#20-创建进度条" class="headerlink" title="20.创建进度条"></a>20.创建进度条</h2><p>你可以创建自己的进度条，这很有趣。推荐使用下面的第三方包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install progress</span><br></pre></td></tr></table></figure>

<p>现在，你可以轻松创建进度条：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from progress.bar import Bar</span><br><span class="line"></span><br><span class="line">bar &#x3D; Bar(&#39;Processing&#39;, max&#x3D;20)</span><br><span class="line">for i in range(20):</span><br><span class="line">    # Do some work</span><br><span class="line">    bar.next() </span><br><span class="line">bar.finish()</span><br></pre></td></tr></table></figure>

<p>在运行过程中，会有动画效果。</p>
<img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B2_20200114135935.png" style="zoom:67%;" />

<h2 id="21-在IPython中使用下划线"><a href="#21-在IPython中使用下划线" class="headerlink" title="21. 在IPython中使用下划线"></a>21. 在IPython中使用下划线</h2><p>你可以使用下划线获得最后一个表达式的结果，在IPython，它看起来是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [1]: 3 * 3 </span><br><span class="line">Out[1]: 9 </span><br><span class="line">In [2]: _ + 3 </span><br><span class="line">Out[2]: 12</span><br></pre></td></tr></table></figure>

<p>这也适用于Python shell。此外，IPython shell允许使用Out[n]来获取表达式In[n]的值。例如，在上面的例子中，Out[1]会输出数字9。</p>
<h2 id="22-快速创建web服务器"><a href="#22-快速创建web服务器" class="headerlink" title="22.快速创建web服务器"></a>22.快速创建web服务器</h2><p>你可以快速启动web服务器，以便将当前目录的内容发出去：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m http.server</span><br></pre></td></tr></table></figure>

<p>如果你想和同事分享一些东西，或者想测试一个简单的HTML站点，这很有用。</p>
<h2 id="23-多行字符串"><a href="#23-多行字符串" class="headerlink" title="23.多行字符串"></a>23.多行字符串</h2><p>尽管可以使用三重引号在代码中包含多行字符串，但这并不理想。在三个引号之间放置的所有内容都将成为字符串，包括格式，如下所示。</p>
<p>我更喜欢第二种方式，它将多行连接在一起，允许你把代码漂亮地格式化。唯一的缺点是需要显式地添加换行符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">s1 &#x3D; &quot;&quot;&quot;Multi line strings can be put</span><br><span class="line">        between triple quotes. It&#39;s not ideal</span><br><span class="line">        when formatting your code though&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">print(s1)</span><br><span class="line"># Multi line strings can be put</span><br><span class="line">#        between triple quotes. It&#39;s not ideal</span><br><span class="line">#        when formatting your code though</span><br><span class="line"></span><br><span class="line">s2 &#x3D; (&quot;You can also concatenate multiple\n&quot; +</span><br><span class="line">        &quot;strings this way, but you&#39;ll have to\n&quot;</span><br><span class="line">        &quot;explicitly put in the newlines&quot;)</span><br><span class="line"></span><br><span class="line">print(s2)</span><br><span class="line"># You can also concatenate multiple</span><br><span class="line"># strings this way, but you&#39;ll have to</span><br><span class="line"># explicitly put in the newlines</span><br></pre></td></tr></table></figure>

<h2 id="24-条件语句的三元操作"><a href="#24-条件语句的三元操作" class="headerlink" title="24. 条件语句的三元操作"></a>24. 条件语句的三元操作</h2><p>这是另一种方法，它使你的代码更简洁，同时保持可读性:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[on_true] if [expression] else [on_false]</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; &quot;Success!&quot; if (y &#x3D;&#x3D; 2) else &quot;Failed!&quot;</span><br></pre></td></tr></table></figure>

<h2 id="25-计数"><a href="#25-计数" class="headerlink" title="25.计数"></a>25.计数</h2><p>您可以使用collections中的Counter对列表中的元素进行计数，得到的是类字典对象，其中记录了每个元素的数量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from collections import Counter</span><br><span class="line"></span><br><span class="line">mylist&#x3D;[1,1,2,3,4,5,5,5,6,6]</span><br><span class="line">c &#x3D; Counter(mylist)</span><br><span class="line">print(c)</span><br><span class="line"># Counter(&#123;1: 2, 2: 1, 3: 1, 4: 1, 5: 3, 6: 2&#125;)</span><br><span class="line"></span><br><span class="line"># And it works on strings too:</span><br><span class="line">print(Counter(&quot;aaaaabbbbbccccc&quot;))</span><br><span class="line"># Counter(&#123;&#39;a&#39;: 5, &#39;b&#39;: 5, &#39;c&#39;: 5&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="26-链式比较"><a href="#26-链式比较" class="headerlink" title="26. 链式比较"></a>26. 链式比较</h2><p>你可以在Python中链接比较运算符，从而创建更具可读性和更简洁的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x&#x3D;10 </span><br><span class="line"></span><br><span class="line"># Instead of:</span><br><span class="line">if x &gt; 5 and x &lt; 15:</span><br><span class="line">    print(&quot;Yes&quot;)</span><br><span class="line">#yes</span><br><span class="line"></span><br><span class="line"># You can also write:</span><br><span class="line">if 5 &lt; x &lt; 15: </span><br><span class="line">    print(&quot;Yes&quot;)</span><br><span class="line">#Yes</span><br></pre></td></tr></table></figure>

<h2 id="27-着色"><a href="#27-着色" class="headerlink" title="27. 着色"></a>27. 着色</h2><p>使用Colorama，你可以让终端添加色彩绚丽。</p>
<p><img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/p5_20200121184308.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from colorama import Fore, Back, Style 2</span><br><span class="line">print(Fore.RED + &#39;some red text&#39;)</span><br><span class="line">print(Back.GREEN + &#39;and with a green background&#39;)</span><br><span class="line">print(Style.DIM + &#39;and in dim text&#39;)</span><br><span class="line">print(Style.RESET_ALL)</span><br><span class="line">print(&#39;back to normal now&#39;)</span><br></pre></td></tr></table></figure>

<h2 id="28-使用日期"><a href="#28-使用日期" class="headerlink" title="28.使用日期"></a>28.使用日期</h2><p>python-dateutil模块为标准datetime模块提供了强大的扩展。安装方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install python-dateutil</span><br></pre></td></tr></table></figure>

<p>你可以用这个库做很多很酷的事情。我只举一个我觉得特别有用的例子：对日志文件中的日期进行模糊解析等等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from dateutil.parser import parse</span><br><span class="line"></span><br><span class="line">logline &#x3D; &#39;INFO 2020-01-01T00:00:01 Happy new year, human.&#39;</span><br><span class="line">timestamp &#x3D; parse(log_line, fuzzy&#x3D;True)</span><br><span class="line">print(timestamp)</span><br><span class="line"># 2020-01-01 00:00:01</span><br></pre></td></tr></table></figure>

<p>只需记住：当常规Python中的datetime鞭长莫及时，就是python-dateutil大显身手的时候！</p>
<h2 id="29-整数除法"><a href="#29-整数除法" class="headerlink" title="29.整数除法"></a>29.整数除法</h2><p>在Python 2中，除法运算符（/）默认为整数除法（即商是整数），除非其中一个操作数是浮点数。所以：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Python 2 </span><br><span class="line">5 &#x2F; 2 &#x3D; 2 </span><br><span class="line">5 &#x2F; 2.0 &#x3D; 2.5</span><br></pre></td></tr></table></figure>

<p>在Python 3中，除法运算符默认为浮点除法（即商是浮点数），<code>//</code>已成为整数除法运算符。所以：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#Python 3 </span><br><span class="line">5 &#x2F; 2 &#x3D; 2.5 </span><br><span class="line">5 &#x2F;&#x2F; 2 &#x3D; 2</span><br></pre></td></tr></table></figure>

<p>要了解这一变化背后的全部动机，你应该阅读PEP-0238。</p>
<h2 id="30-使用chardet检测字符集"><a href="#30-使用chardet检测字符集" class="headerlink" title="30.使用chardet检测字符集"></a>30.使用chardet检测字符集</h2><p>可以使用chardet模块检测文件的字符集，这在分析大量随机文本时非常有用。安装方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install chardet</span><br></pre></td></tr></table></figure>

<p>现在，可以使用chardetect命令，使用方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chardetect somefile.txt </span><br><span class="line">somefile.txt: ascii with confidence 1.0</span><br></pre></td></tr></table></figure>

<p>你也可以通过编程的方式使用这个库，详情请查阅文档。</p>
<p>就是这样！新的一年开始的30种秘诀。我希望你和我一样喜欢这份清单，如果你有什么要补充的，请在微信公众号中回复留言！</p>
<p>原文链接：<a href="https://towardsdatascience.com/30-python-best-practices-tips-and-tricks-caefb9f8c5f5" target="_blank" rel="noopener">https://towardsdatascience.com/30-python-best-practices-tips-and-tricks-caefb9f8c5f5</a></p>
<blockquote>
<p>关注微信公众号：老齐教室。读深度文章，得精湛技艺，享绚丽人生。</p>
</blockquote>
</section>
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#python 技巧" >
    <span class="tag-code">python 技巧</span>
  </a>

      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2020/01/22/%E8%AF%BB%E5%86%99%E5%9B%BE%E7%89%87/">
        <span class="nav-arrow">← </span>
        
          用Python读写海量图片的方法
        
      </a>
    
    
      <a class="nav-right" href="/2020/01/28/https/">
        
          通俗易懂的HTTPS
        
        <span class="nav-arrow"> →</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- 打赏 START -->
    
      <div class="money-like">
        <div class="reward-btn">
          赏
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>使用支付宝打赏</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>使用微信打赏</b>
            </span>
          </span>
        </div>
        <p class="notice">若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏</p>
      </div>
    
    <!-- 打赏 END -->
    <!-- 二维码 START -->
    <!--% if (theme.qrcode) { %-->
      <div class="qrcode">
        <!--canvas id="share-qrcode"></!--canvas-->
        <img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg" width=400>
        <p class="notice">关注微信公众号，读文章、听课程，提升技能</p>
      </div>
    <!--% } %-->
    <!-- 二维码 END -->
    
      <!-- No Comment -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#Python绝技30例"><span class="toc-nav-text">Python绝技30例</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#1-使用Python3"><span class="toc-nav-text">1.使用Python3</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#2-检查程序所需的最低Python版本"><span class="toc-nav-text">2.检查程序所需的最低Python版本</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#3-使用IPython"><span class="toc-nav-text">3.使用IPython</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#4-列表解析"><span class="toc-nav-text">4. 列表解析</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#5-检查对象占用的内存"><span class="toc-nav-text">5.检查对象占用的内存</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#6-返回多个值"><span class="toc-nav-text">6. 返回多个值</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#7-使用数据类"><span class="toc-nav-text">7.使用数据类</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#8-变量就地交换"><span class="toc-nav-text">8.变量就地交换</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#9-合并字典（Python3-5-）"><span class="toc-nav-text">9.合并字典（Python3.5+）</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#10-标题首字母大写"><span class="toc-nav-text">10. 标题首字母大写</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#11-将字符串拆分为列表"><span class="toc-nav-text">11.将字符串拆分为列表</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#12-将列表组合成字符串"><span class="toc-nav-text">12. 将列表组合成字符串</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#13-表情符号"><span class="toc-nav-text">13. 表情符号</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#14-列表切片"><span class="toc-nav-text">14. 列表切片</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#15-反转字符串和列表"><span class="toc-nav-text">15. 反转字符串和列表</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#16-读取图片"><span class="toc-nav-text">16. 读取图片</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#17-使用map"><span class="toc-nav-text">17.使用map()</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#18-从列表或字符串中获取唯一元素"><span class="toc-nav-text">18.从列表或字符串中获取唯一元素</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#19-找出高频值"><span class="toc-nav-text">19. 找出高频值</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#20-创建进度条"><span class="toc-nav-text">20.创建进度条</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#21-在IPython中使用下划线"><span class="toc-nav-text">21. 在IPython中使用下划线</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#22-快速创建web服务器"><span class="toc-nav-text">22.快速创建web服务器</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#23-多行字符串"><span class="toc-nav-text">23.多行字符串</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#24-条件语句的三元操作"><span class="toc-nav-text">24. 条件语句的三元操作</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#25-计数"><span class="toc-nav-text">25.计数</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#26-链式比较"><span class="toc-nav-text">26. 链式比较</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#27-着色"><span class="toc-nav-text">27. 着色</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#28-使用日期"><span class="toc-nav-text">28.使用日期</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#29-整数除法"><span class="toc-nav-text">29.整数除法</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#30-使用chardet检测字符集"><span class="toc-nav-text">30.使用chardet检测字符集</span></a></li></ol></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'https://qiwsir.github.io/2020/01/24/python30例/';
    var banner = ''
    /*if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }*/
    //$('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
  })();
</script>







    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2020 | Proudly powered by 老齐教室 | <a href='http://www.beian.miit.gov.cn' target="_blank" rel="noopener">苏ICP备13034293号-2 </a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>