<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="ä¸“æ³¨äºç¼–ç¨‹æŠ€æœ¯å’Œæ•°æ®ç§‘å­¦ã€äººå·¥æ™ºèƒ½">
  <meta name="keyword" content="äººå·¥æ™ºèƒ½, æ•°æ®ç§‘å­¦, Python, ç¼–ç¨‹, ç¨‹åºå‘˜, å¼€å‘è€…, web, ç½‘ç«™, è¯­è¨€, ç¨‹åº, UI, ç¾å·¥, è®¾è®¡å¸ˆ">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆå››ï¼‰ | è€é½æ•™å®¤
    
  </title>
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  
  
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


<meta name="generator" content="Hexo 4.2.0"></head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>è€é½æ•™å®¤</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">é¦–é¡µ</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">ä¹¦ç±</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/courses/" class="item-link">è¯¾ç¨‹</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">ç±»ç›®</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/resources/" class="item-link">èµ„æº</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">å…³äº</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">é¦–é¡µ</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">ä¹¦ç±</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/courses/" class="menu-link">è¯¾ç¨‹</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">ç±»ç›®</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/resources/" class="menu-link">èµ„æº</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">å…³äº</a>
            

          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  
  <!-- <div class="arrow-down">
    <a href="javascript:;"></a>
  </div> -->
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <h2>é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆå››ï¼‰</h2>
    <p class="post-date">2021-11-03</p>
    <section class="markdown-content"><h3 id="str-bytes-int-bool-float-and-complexï¼šäº”ä¸ªåŸºæœ¬ç±»å‹"><a href="#str-bytes-int-bool-float-and-complexï¼šäº”ä¸ªåŸºæœ¬ç±»å‹" class="headerlink" title="str, bytes, int, bool, float and complexï¼šäº”ä¸ªåŸºæœ¬ç±»å‹"></a><code>str</code>, <code>bytes</code>, <code>int</code>, <code>bool</code>, <code>float</code> and <code>complex</code>ï¼šäº”ä¸ªåŸºæœ¬ç±»å‹</h3><p>Pythonæœ‰6ä¸ªåŸºæœ¬çš„æ•°æ®ç±»å‹ï¼ˆåˆ†æ˜æ˜¯5ä¸ªï¼Œéšåä¼šè§£é‡Šï¼‰ã€‚ å…¶ä¸­4ä¸ªæ˜¯æ•°å­—ï¼Œå¦å¤–2ä¸ªåŸºäºæ–‡æœ¬ã€‚</p>
<p>å…ˆçœ‹åŸºäºæ–‡æœ¬çš„æ•°æ®ç±»å‹ï¼Œå› ä¸ºç®€å•ã€‚  </p>
<p><code>str</code> æ˜¯ Python ä¸­æœ€å¸¸è§çš„æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œä½¿ç”¨ <code>input</code> å‡½æ•°æ¥å—ç”¨æˆ·è¾“å…¥ä¼šå¾—åˆ°å­—ç¬¦ä¸²ï¼ŒPython ä¸­çš„å…¶ä»–æ‰€æœ‰æ•°æ®ç±»å‹éƒ½å¯ä»¥è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚ è¿™æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºæ‰€æœ‰è®¡ç®—æœºè¾“å…¥/è¾“å‡ºéƒ½æ˜¯æ–‡æœ¬å½¢å¼çš„ï¼Œæ— è®ºæ˜¯ç”¨æˆ· I/O è¿˜æ˜¯æ–‡ä»¶ I/O ï¼Œè¿™å¯èƒ½æ˜¯å­—ç¬¦ä¸²æ— å¤„ä¸åœ¨çš„åŸå› ã€‚  </p>
<p><code>bytes</code> å­—èŠ‚ç±»å‹å®é™…ä¸Šæ˜¯è®¡ç®—ä¸­æ‰€æœ‰ I/O çš„åŸºç¡€ã€‚ å¦‚æœä½ äº†è§£è®¡ç®—æœºï¼Œå¯èƒ½ä¼šçŸ¥é“æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯ä»¥ä½å’Œå­—èŠ‚çš„å½¢å¼å­˜å‚¨å’Œå¤„ç†çš„â€”â€”è¿™ä¹Ÿæ˜¯ç»ˆç«¯çœŸæ­£çš„å·¥ä½œæ–¹å¼ã€‚  </p>
<p> å¦‚æœæƒ³çœ‹ä¸€ä¸‹ä½äº <code>input</code> å’Œ <code>print</code> ä¹‹ä¸‹çš„å­—èŠ‚ï¼Œéœ€è¦æŸ¥çœ‹ <code>sys</code> æ¨¡å—ä¸­çš„ I/O ç¼“å­˜ï¼š <code>sys.stdout.buffer</code> å’Œ <code>sys.stdin.buffer</code> ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'Hello!'</span>)</span><br><span class="line">Hello!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello!\n'</span>.encode()  <span class="comment"># Produces bytes</span></span><br><span class="line"><span class="string">b'Hello!\n'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>char_count = sys.stdout.buffer.write(<span class="string">'Hello!\n'</span>.encode())</span><br><span class="line">Hello!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>char_count  <span class="comment"># write() returns the number of bytes written to console</span></span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>buffer å¯¹è±¡æ¥æ”¶å­—èŠ‚ï¼ŒæŠŠå®ƒä»¬ç›´æ¥å†™å…¥è¾“å‡ºç¼“å­˜ï¼Œå¹¶è¿”å›å­—èŠ‚æ•°ã€‚  </p>
<p>ä¸ºäº†è¯æ˜ä¸‹é¢çš„ä¸€åˆ‡éƒ½æ˜¯å­—èŠ‚ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä¸ªä½¿ç”¨å­—èŠ‚æ‰“å°è¡¨æƒ…çš„ä¾‹å­:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ğŸ'</span>.encode()</span><br><span class="line"><span class="string">b'\xf0\x9f\x90\x8d'</span>   <span class="comment"># utf-8 encoded string of the snake emoji</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_ = sys.stdout.buffer.write(<span class="string">b'\xf0\x9f\x90\x8d'</span>)</span><br><span class="line">ğŸ</span><br></pre></td></tr></table></figure>

<p><code>int</code> æ˜¯å¦ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚ å®ƒä¹Ÿæ˜¯å¦å¤–ä¸¤ç§æ•°æ®ç±»å‹ <code>float</code> å’Œ <code>complex</code> çš„æœ€å°å•å…ƒï¼Œ <code>complex</code> æ˜¯ <code>float</code> çš„è¶…ç±»ï¼Œè€Œ <code>float</code> åˆæ˜¯ <code>int</code> çš„è¶…ç±»ã€‚  </p>
<p>è¿™æ„å‘³ç€æ‰€æœ‰çš„ <code>int</code> ä¹Ÿå¯ä»¥è§†ä½œ <code>float</code> æˆ– <code>complex</code> ï¼Œä½†åè¿‡æ¥è¯´å°±ä¸æˆç«‹äº†ã€‚ ç±»ä¼¼åœ°ï¼Œæ‰€æœ‰çš„ <code>float</code> å¯ä»¥ä½œä¸º <code>complex</code> ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = <span class="number">5.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = <span class="number">5.0</span>+<span class="number">0.0j</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(x), type(y), type(z)</span><br><span class="line">(&lt;class 'int'&gt;, &lt;class 'float'&gt;, &lt;class 'complex'&gt;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x == y == z  <span class="comment"># All the same value</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y</span><br><span class="line"><span class="number">5.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>float(x)    <span class="comment"># float(x) produces the same result as y</span></span><br><span class="line"><span class="number">5.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line">(<span class="number">5</span>+<span class="number">0j</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>complex(x)  <span class="comment"># complex(x) produces the same result as z</span></span><br><span class="line">(<span class="number">5</span>+<span class="number">0j</span>)</span><br></pre></td></tr></table></figure>

<p>åˆšæ‰æåˆ° Python ä¸­å®é™…ä¸Šåªæœ‰5ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè€Œä¸æ˜¯6ä¸ªã€‚ è¿™æ˜¯å› ä¸ºï¼Œ<code>bool</code> å®é™…ä¸Šä¸æ˜¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹â€”â€”å®ƒå®é™…ä¸Šæ˜¯ <code>int</code> çš„å­ç±»!  </p>
<p>ä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹è¿™äº›ç±»çš„ <code>mro</code> å±æ€§æ¥æŸ¥éªŒä¸Šè¿°è¯´æ³•ã€‚  </p>
<p><code>mro</code> æ„æ€æ˜¯â€œæ–¹æ³•è§£æé¡ºåºâ€ï¼Œå®ƒå®šä¹‰äº†åœ¨ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æœç´¢é¡ºåºã€‚ è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œé¦–å…ˆåœ¨ç±»æœ¬èº«ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šåœ¨çˆ¶ç±»ä¸­æœç´¢ï¼Œç„¶åæ˜¯å†ä¸Šä¸€çº§çš„çˆ¶ç±»ï¼Œä¸€ç›´åˆ°é¡¶ç«¯çš„ <code>object</code> ç±»ã€‚ Pythonä¸­çš„ä¸€åˆ‡éƒ½ç»§æ‰¿è‡ª <code>object</code> ã€‚ æ˜¯çš„ï¼ŒPythonä¸­å‡ ä¹æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ã€‚ </p>
<p>çœ‹ä¸€çœ‹ä¸‹é¢çš„ä»£ç :  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>int.mro()</span><br><span class="line">[&lt;class 'int'&gt;, &lt;class 'object'&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>float.mro()</span><br><span class="line">[&lt;class 'float'&gt;, &lt;class 'object'&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>complex.mro()</span><br><span class="line">[&lt;class 'complex'&gt;, &lt;class 'object'&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str.mro()</span><br><span class="line">[&lt;class 'str'&gt;, &lt;class 'object'&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool.mro()</span><br><span class="line">[&lt;class 'bool'&gt;, &lt;class 'int'&gt;, &lt;class 'object'&gt;]  # Look!</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰ç±»éƒ½æœ‰å…±åŒçš„â€œç¥–å…ˆâ€ <code>object</code> ã€‚ <code>bool</code>æ˜¯å±…ç„¶ç»§æ‰¿äº† <code>int</code> ç±»ã€‚ </p>
<p>æˆ–è®¸å¯¹ <code>bool</code> æ˜¯ <code>int</code> çš„å­ç±»æ„Ÿè§‰å¥‡æ€ªã€‚è¿™ä¸»è¦æ˜¯å†å²åŸå› é€ æˆçš„ã€‚åœ¨å†å²ä¸Šï¼Œæ›¾ç»ç”¨ <code>0</code> å’Œ <code>1</code> åˆ†åˆ«è¡¨ç¤ºé€»è¾‘å‡å’ŒçœŸï¼Œåæ¥ï¼Œåœ¨ Python 2.2 æ‰å¼•å…¥äº† <code>True</code> å’Œ <code>False</code> è¿™ä¸¤ä¸ª <code>bool</code> ç±»å‹çš„å€¼ï¼Œä¸ºäº†èƒ½å…¼å®¹ï¼ŒæŠŠå®ƒä»¬è®¾è®¡æˆæ•´æ•°çš„åŒ…è£…å™¨ã€‚äºæ˜¯è¿™ä¸ªäº‹å®å°±è¢«å»¶ç»­è‡³ä»Šã€‚</p>
<p>åŸºäºè¿™ä¸ªäº‹å®ï¼Œå°±èƒ½åœ¨æœ¬éœ€è¦æ•´æ•°åœ°æ–¹ï¼Œç”¨ <code>bool</code> ç±»å‹æ›¿ä»£äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> json</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: &#123;<span class="string">'c'</span>: <span class="number">2</span>&#125;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(json.dumps(data))</span><br><span class="line">&#123;<span class="string">"a"</span>: <span class="number">1</span>, <span class="string">"b"</span>: &#123;<span class="string">"c"</span>: <span class="number">2</span>&#125;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(json.dumps(data, indent=<span class="number">4</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"a"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">"b"</span>: &#123;</span><br><span class="line">        <span class="string">"c"</span>: <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(json.dumps(data, indent=<span class="literal">True</span>))</span><br><span class="line">&#123;</span><br><span class="line"> <span class="string">"a"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="string">"b"</span>: &#123;</span><br><span class="line">  <span class="string">"c"</span>: <span class="number">2</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ <code>indent=True</code> è¢«è§†ä¸º <code>indent=1</code> ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ‰æ•ˆçš„ï¼Œä½†æˆ‘ç¡®ä¿¡æ²¡æœ‰äººä¼šæƒ³è¦ç¼©è¿›1ä¸ªç©ºæ ¼ã€‚  </p>
<h3 id="object-ï¼šåŸºç±»"><a href="#object-ï¼šåŸºç±»" class="headerlink" title="object ï¼šåŸºç±»"></a><code>object</code> ï¼šåŸºç±»</h3><p><code>object</code> æ˜¯æ•´ä¸ªç±»å±‚æ¬¡ç»“æ„çš„åŸºç±»ï¼Œæ¯ä¸ªç±»éƒ½ç»§æ‰¿äº† <code>object</code> ã€‚ </p>
<p><code>object</code> ç±»ä¸­é€šè¿‡ç‰¹æ®Šæ–¹æ³•ï¼Œå®šä¹‰äº† Python ä¸­çš„ä¸€äº›æœ€åŸºæœ¬çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼Œé€šè¿‡ <code>__hash__()</code> å¯ä»¥å®šä¹‰å‡½æ•° <code>hash()</code> ï¼Œç­‰ç­‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(object)</span><br><span class="line">[<span class="string">'__class__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>,</span><br><span class="line"><span class="string">'__getattribute__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__init_subclass__'</span>, <span class="string">'__le__'</span>,</span><br><span class="line"><span class="string">'__lt__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>,</span><br><span class="line"><span class="string">'__setattr__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>]</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>obj.x</code> å½¢å¼è®¿é—®å±æ€§ä¼šè°ƒç”¨ <code>__getattr__()</code> æ–¹æ³•ã€‚ ç±»ä¼¼åœ°ï¼Œè®¾ç½®æ–°å±æ€§å’Œåˆ é™¤å±æ€§åˆ†åˆ«è°ƒç”¨ <code>__setattr__()</code> å’Œ <code>__delattr__()</code> ã€‚ å¯¹è±¡çš„å“ˆå¸Œå€¼ç”± <code>__hash__()</code> æ–¹æ³•ç”Ÿæˆï¼Œå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼æ¥è‡ª <code>__repr__()</code>ã€‚  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>object()  <span class="comment"># This creates an object with no properties</span></span><br><span class="line">&lt;object object at <span class="number">0x7f47aecaf210</span>&gt;  <span class="comment"># defined in __repr__()</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">dummy</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">pass</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = dummy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">&lt;__main__.dummy object at <span class="number">0x7f47aec510a0</span>&gt;  <span class="comment"># functionality inherited from object</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hash(object())</span><br><span class="line"><span class="number">8746615746334</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hash(x)</span><br><span class="line"><span class="number">8746615722250</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.__hash__()  <span class="comment"># is the same as hash(x)</span></span><br><span class="line"><span class="number">8746615722250</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å®é™…ä¸Šï¼Œå…³äº Python çš„ç‰¹æ®Šæ–¹æ³•è¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œæ¨èå‚è€ƒã€ŠPythonå¤§å­¦å®ç”¨æ•™ç¨‹ã€‹æˆ–ã€ŠPython å®Œå…¨è‡ªå­¦æ•™ç¨‹ã€‹ï¼Œå‚é˜…ï¼š<a href="http://www.itdifferc.om" target="_blank" rel="noopener">www.itdifferc.om</a> çš„è¯´æ˜ã€‚</p>
</blockquote>
<h3 id="type-ï¼šç±»å·¥å‚"><a href="#type-ï¼šç±»å·¥å‚" class="headerlink" title="type ï¼šç±»å·¥å‚"></a><code>type</code> ï¼šç±»å·¥å‚</h3><p>å¦‚æœ <code>object</code> æ˜¯æ‰€æœ‰å¯¹è±¡ä¹‹çˆ¶ï¼Œé‚£ä¹ˆ <code>type</code> å°±æ˜¯æ‰€æœ‰â€œç±»â€ä¹‹çˆ¶ã€‚å³æ‰€æœ‰çš„å¯¹è±¡ç»§æ‰¿ <code>object</code> ï¼Œæ‰€æœ‰çš„ç±»æ¥è‡ªäº <code>type</code> ã€‚  </p>
<p><code>type</code> å¯ä»¥ç”¨æ¥åŠ¨æ€åœ°åˆ›å»ºæ–°ç±»ï¼Œå®ƒæœ‰ä¸¤ç§ç”¨é€”:  </p>
<ul>
<li><p>å¦‚æœç»™å®šä¸€ä¸ªå‚æ•°ï¼Œå®ƒè¿”å›è¯¥å‚æ•°çš„â€œç±»å‹â€ï¼Œå³ï¼šç”¨äºåˆ›å»ºè¯¥å¯¹è±¡çš„ç±»:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(x)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">int</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(x)</span> <span class="title">is</span> <span class="title">int</span></span></span><br><span class="line"><span class="class"><span class="title">True</span></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(x)</span><span class="params">(<span class="number">42.0</span>)</span>  # <span class="title">Same</span> <span class="title">as</span> <span class="title">int</span><span class="params">(<span class="number">42.0</span>)</span></span></span><br><span class="line"><span class="class">42</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨ä¸‰ä¸ªå‚æ•°ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼Œè¿™ä¸‰ä¸ªå‚æ•°æ˜¯ <code>name</code> ã€<code>bases</code> å’Œ <code>dict</code> ã€‚</p>
<ul>
<li><p><code>name</code> å®šä¹‰ç±»çš„åç§°  </p>
</li>
<li><p><code>bases</code> å®šä¹‰æ‰€ç»§æ‰¿çš„ç±»  </p>
</li>
<li><p><code>dict</code> å®šä¹‰äº†æ‰€æœ‰çš„ç±»å±æ€§å’Œæ–¹æ³•ã€‚  </p>
</li>
</ul>
<p>å¦‚æœè¦å®šä¹‰è¿™æ ·çš„ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span><span class="params">(MySuperClass)</span>:</span>   </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self)</span>:</span>       </span><br><span class="line">        print(<span class="string">'x'</span>)</span><br></pre></td></tr></table></figure>

<p>ç”¨ <code>type</code> å¯ä»¥å®šä¹‰åŒæ ·çš„ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">x_function</span><span class="params">(self)</span>:</span></span><br><span class="line">    print(<span class="string">'x'</span>)</span><br><span class="line"></span><br><span class="line">MyClass = type(<span class="string">'MyClass'</span>, (MySuperClass), &#123;<span class="string">'x'</span>: x_function&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹Ÿæ˜¯å®ç° <code>collections.namedtuple</code> ç±»çš„ä¸€ç§æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œå®ƒä»¥ç±»çš„åå­—å’Œå…ƒç»„ä½œä¸ºå‚æ•°ã€‚</p>
</li>
</ul>
<h3 id="hash-and-id-ï¼šåˆ¤æ–­ç›¸ç­‰çš„åŸºç¡€"><a href="#hash-and-id-ï¼šåˆ¤æ–­ç›¸ç­‰çš„åŸºç¡€" class="headerlink" title="hash and id ï¼šåˆ¤æ–­ç›¸ç­‰çš„åŸºç¡€"></a><code>hash</code> and <code>id</code> ï¼šåˆ¤æ–­ç›¸ç­‰çš„åŸºç¡€</h3><p>Pythonçš„å†…ç½®å‡½æ•° <code>hash</code> å’Œ <code>id</code> æ˜¯ç”¨äºåˆ¤æ–­å¯¹è±¡ç›¸ç­‰çš„ä¾æ®ã€‚  </p>
<p> Python å¯¹è±¡é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å…·æœ‰å¯æ¯”æ€§çš„ï¼Œé™¤éå®ƒä»¬æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ å¦‚æœä½ å°è¯•åˆ›å»ºä¸¤ä¸ª <code>object()</code> å¯¹è±¡å¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦ç›¸ç­‰â€¦  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x == x</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y == y</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x == y  <span class="comment"># Comparing two objectsFalse</span></span><br></pre></td></tr></table></figure>

<p>ç»“æœæ€»æ˜¯ <code>False</code> ã€‚ è¿™æ˜¯å› ä¸ºï¼šäº‹å®ä¸Šï¼Œ<code>object</code> ä»¥åŒä¸€æ€§æ¥æ¯”è¾ƒè‡ªå·±ï¼Œå³å®ƒä»¬åªæ˜¯ä¸è‡ªå·±ç›¸ç­‰ï¼Œè€Œä¸æ˜¯ä¸åˆ«çš„å¯¹è±¡ç›¸ç­‰ã€‚  </p>
<hr>
<p><strong>è¡¥å……çŸ¥è¯†ï¼š</strong>å“¨å…µ</p>
<p>For this reason, <code>object</code> instances are also sometimes  called a â€œsentinelâ€, because they can be used to check for a value  exactly, that canâ€™t be replicated.</p>
<p>é€šå¸¸å¾ˆå°‘ç”¨ç±» <code>object</code> ç›´æ¥åˆ›å»ºå®ä¾‹ï¼Œåœ¨ç¼–ç¨‹ä¸­ï¼Œæœ‰ä¸€ç§æƒ…æ™¯å¯ä»¥ä½¿ç”¨ <code>object</code>å®ä¾‹ï¼Œå¹¶ä¸”ç§°æ­¤å®ä¾‹ä¸ºâ€œå“¨å…µâ€ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p>
<p>çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚å‡è®¾æœ‰ä¸€ä¸ªå‡½æ•° <code>what_was_passed</code> ï¼Œç”¨å®ƒèƒ½å¤Ÿå®ç°ä¸‹é¢æ‰€æ¼”ç¤ºçš„åŠŸèƒ½ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(<span class="number">42</span>)</span><br><span class="line">You passed a <span class="number">42.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(<span class="string">'abc'</span>)</span><br><span class="line">You passed a <span class="string">'abc'</span>.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed()</span><br><span class="line">Nothing was passed.</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯ï¼Œåªè¦è¾“å…¥ä¸€ä¸ªéç©ºçš„å€¼ï¼Œå°±èƒ½å¯¹åº”ç›¸åº”çš„è¾“å‡ºï¼›å¦‚æœè¾“å…¥çš„æ˜¯æ§åˆ¶ï¼Œåˆ™æç¤º <code>Nothing was passed</code> ã€‚æˆ–è®¸è§‰å¾—è¿™ä¸ªå‡½æ•°çš„ä»£ç å¾ˆå®¹æ˜“ç¼–å†™ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">what_was_passed</span><span class="params">(value=None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> value <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        print(<span class="string">'Nothing was passed.'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">f'You passed a <span class="subst">&#123;value!r&#125;</span>.'</span>)</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œå¦‚æœæä¾›çš„å‚æ•°å°±æ˜¯ <code>None</code> â€”â€”æ³¨æ„ï¼Œ<code>None</code> åœ¨æœ‰çš„æƒ…å†µä¸‹ï¼Œå¹¶ä¸è¡¨ç¤ºâ€œä»€ä¹ˆä¹Ÿæ²¡æœ‰â€ï¼Œä¹Ÿå¯èƒ½å…·æœ‰æŸç§æ„ä¹‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(<span class="literal">None</span>)</span><br><span class="line">Nothing was passed.</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç„¶è¿™æ ·åšï¼Œå¹¶ä¸æ€»èƒ½å®ç°æœŸæœ›ã€‚æˆ–è€…ä»¥çœç•¥å· <code>...</code> ä¸ºå‚æ•°ï¼ˆè¯¦è§<a href="https://mp.weixin.qq.com/s/tdXq4f5RBT8GNn7RF4gBmg" target="_blank" rel="noopener">ã€ŠPython ä¸­çš„çœç•¥å·ã€‹</a>ï¼‰ï¼Œä¹Ÿä¸èƒ½é€šè¿‡æµ‹è¯•ã€‚</p>
<p>è¿™æ—¶å°±éœ€è¦ä¸€ä¸ªâ€œå“¨å…µâ€äº†ï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__my_sentinel = object()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">what_was_passed</span><span class="params">(value=__my_sentinel)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> value <span class="keyword">is</span> __my_sentinel:</span><br><span class="line">        print(<span class="string">'Nothing was passed.'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">f'You passed a <span class="subst">&#123;value!r&#125;</span>.'</span>)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œä¸è®ºç»™å‡½æ•°æä¾›ä»»ä½•èŒï¼Œéƒ½èƒ½çœ‹åšå¯¹è±¡ï¼Œåªæœ‰åœ¨ä¸æä¾›å€¼æ—¶æ‰ä¸ºç©ºã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(<span class="number">42</span>)</span><br><span class="line">You passed a <span class="number">42.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(<span class="string">'abc'</span>)</span><br><span class="line">You passed a <span class="string">'abc'</span>.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(<span class="literal">None</span>)</span><br><span class="line">You passed a <span class="literal">None</span>.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed(object())</span><br><span class="line">You passed a &lt;object object at <span class="number">0x7fdf02f3f220</span>&gt;.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>what_was_passed()</span><br><span class="line">Nothing was passed.</span><br></pre></td></tr></table></figure>

<p>ï¼ˆè¡¥å……çŸ¥è¯†å®Œæ¯•ï¼‰</p>
<hr>
<p>è¦ç†è§£ä¸ºä»€ä¹ˆå¯¹è±¡åªä¸è‡ªå·±æ¯”è¾ƒï¼Œæˆ‘ä»¬å¿…é¡»ç†è§£å…³é”®è¯ <code>is</code> ã€‚  </p>
<p>Python çš„ <code>is</code> ç”¨äºæ£€æŸ¥ä¸¤ä¸ªåç§°æ˜¯å¦åœ¨å†…å­˜ä¸­å¼•ç”¨äº†å®Œå…¨ç›¸åŒçš„å¯¹è±¡ã€‚ æˆ‘ä»¬å¯ä»¥æŠŠ Python å¯¹è±¡æƒ³è±¡æˆåœ¨ç©ºé—´ä¸­æ¼‚æµ®çš„ç›’å­ï¼ŒæŠŠå˜é‡ã€æ•°ç»„ç´¢å¼•ç­‰æƒ³è±¡æˆæŒ‡å‘è¿™äº›å¯¹è±¡çš„ç®­å¤´ã€‚  </p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x <span class="keyword">is</span> y</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y <span class="keyword">is</span> z</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰ä¸¤ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œä¸‰ä¸ªæ ‡ç­¾ <code>x</code> ï¼Œ<code>y</code> å’Œ <code>z</code> æŒ‡å‘è¿™ä¸¤ä¸ªå¯¹è±¡ï¼š<code>x</code> æŒ‡å‘ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼Œ<code>y</code> å’Œ <code>z</code> éƒ½æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> x</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ“ä½œå°†åˆ é™¤ç®­å¤´ <code>x</code> ã€‚ å¯¹è±¡æœ¬èº«ä¸å—èµ‹å€¼æˆ–åˆ é™¤çš„å½±å“ï¼Œåªæœ‰ç®­å¤´å—å½±å“ã€‚ ä½†ç°åœ¨æ²¡æœ‰æŒ‡å‘ç¬¬ä¸€ä¸ªå¯¹è±¡çš„ç®­å¤´ï¼Œè¿™ä¸ªå¯¹è±¡çš„å­˜åœ¨ä¹Ÿå°±æ²¡æœ‰æ„ä¹‰äº†ã€‚ æ‰€ä»¥ Python çš„â€œåƒåœ¾å›æ”¶å™¨â€å°†å…¶æ¸…é™¤ã€‚ ç°åœ¨æˆ‘ä»¬åªå‰©ä¸‹ä¸€ä¸ª <code>object</code> äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ <code>y</code> ç®­å¤´è¢«æ”¹ä¸ºæŒ‡å‘ä¸€ä¸ªæ•´æ•°å¯¹è±¡ <code>5</code> ã€‚ <code>z</code> ä»ç„¶æŒ‡å‘ç¬¬äºŒä¸ª <code>object</code> ï¼Œæ‰€ä»¥è¯¥å¯¹è±¡ä»ç„¶å­˜åœ¨ã€‚  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = y * <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ <code>z</code> æŒ‡å‘å¦ä¸€ä¸ªæ–°å¯¹è±¡ <code>10</code> ï¼Œè¿™ä¸ªæ–°å¯¹è±¡å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æŸä¸ªåœ°æ–¹ã€‚ ç°åœ¨ä¹Ÿæ²¡æœ‰ç®­å¤´æŒ‡å‘ç¬¬äºŒä¸ª<code>object</code>äº†ï¼Œå› æ­¤è¯¥å¯¹è±¡éšåè¢«ä½œä¸ºåƒåœ¾æ”¶èµ°ã€‚ </p>
<p>ä¸ºäº†èƒ½å¤ŸéªŒè¯æ‰€æœ‰ä¸Šè¿°è¯´æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>id</code> å†…ç½®å‡½æ•°ã€‚ <code>id</code> è¡¨ç¤ºå¯¹è±¡åœ¨å†…å­˜ä¸­çš„ç¡®åˆ‡ä½ç½®ï¼Œç”¨æ•°å­—è¡¨ç¤ºã€‚ </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(x)</span><br><span class="line"><span class="number">139737240793600</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(y)</span><br><span class="line"><span class="number">139737240793616</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(z)</span><br><span class="line"><span class="number">139737240793616</span>  <span class="comment"># Notice the numbers!</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x <span class="keyword">is</span> y</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(x) == id(y)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y <span class="keyword">is</span> z</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(y) == id(z)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>ç›¸åŒçš„å¯¹è±¡ï¼Œç›¸åŒçš„ <code>id()</code> è¿”å›å€¼ï¼Œå¦åˆ™ä¸åŒã€‚</p>
<p>With <code>object</code>s, <code>==</code> and <code>is</code> behaves the same way:</p>
<p>å¯¹äº <code>object</code> ç±»çš„ç¤ºä¾‹å¯¹è±¡ï¼Œ<code>==</code> å’Œ <code>is</code> å…·æœ‰ç›¸åŒçš„æ•ˆæœï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = object()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x <span class="keyword">is</span> y</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x == y</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y <span class="keyword">is</span> z</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y == z</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸ºï¼Œåœ¨ <code>object</code> ç±»ä¸­ï¼Œä¸“é—¨å®šä¹‰äº†é’ˆå¯¹ <code>==</code> çš„æ–¹æ³• <code>__eq__</code> ï¼Œåƒä¸‹é¢è¿™æ ·:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">object</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self <span class="keyword">is</span> other</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œå®é™…ä¸Š <code>object</code> çš„å®ç°æ˜¯ç”¨ C è¯­è¨€ç¼–å†™çš„ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœå®¹å™¨ç±»å‹å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œåˆ™å®ƒä»¬æ˜¯ç›¸ç­‰çš„ã€‚å…¸å‹ä¾‹å­æ˜¯å…·æœ‰ç›¸åŒç´¢å¼•çš„ç›¸åŒé¡¹çš„åˆ—è¡¨ï¼Œæˆ–è€…åŒ…å«å®Œå…¨ç›¸åŒå€¼çš„é›†åˆã€‚  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x <span class="keyword">is</span> y</span><br><span class="line"><span class="literal">False</span>       <span class="comment"># Different objects,</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x == y</span><br><span class="line"><span class="literal">True</span>        <span class="comment"># Yet, equal.</span></span><br></pre></td></tr></table></figure>

<p>è¿™äº›å¯ä»¥è¿™æ ·å®šä¹‰:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">list</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(self) != len(other):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> all(x == y <span class="keyword">for</span> x, y <span class="keyword">in</span> zip(self, other))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Can also be written as:</span></span><br><span class="line">        <span class="keyword">return</span> all(self[i] == other[i] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(self)))</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼åœ°ï¼Œé›†åˆæ˜¯æ— åºçš„ï¼Œæ‰€ä»¥æˆå‘˜çš„ä½ç½®æ— å…³ç´§è¦ï¼Œé‡è¦çš„æ˜¯å®ƒä»¬çš„â€œå­˜åœ¨â€:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">list</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(self) != len(other):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> all(item <span class="keyword">in</span> other <span class="keyword">for</span> item <span class="keyword">in</span> self)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œå¼€å§‹è®¨è®ºâ€œç­‰ä»·â€çš„æ¦‚å¿µã€‚Python æœ‰<strong>å“ˆå¸Œ</strong>ï¼ˆæˆ–ï¼šæ•£åˆ—ï¼‰çš„æ¦‚å¿µã€‚ ä»»ä½•æ•°æ®å—çš„â€œæ•£åˆ—â€æŒ‡çš„éƒ½æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥éå¸¸éšæœºçš„é¢„è®¡ç®—å€¼ï¼Œä½†å®ƒåœ¨æŸç§ç¨‹åº¦ä¸Šå¯ä»¥ç”¨äºæ ‡è¯†è¯¥æ•°æ®å—ã€‚  </p>
<p>å“ˆå¸Œæœ‰ä¸¤ä¸ªç‰¹å®šçš„å±æ€§:  </p>
<ul>
<li><p>ç›¸åŒçš„æ•°æ®å—æ€»æ˜¯æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ã€‚  </p>
</li>
<li><p>å³ä½¿åªæ˜¯ç¨å¾®æ”¹å˜æ•°æ®ï¼Œä¹Ÿä¼šè¿”å›ä¸€ä¸ªå®Œå…¨ä¸åŒçš„å“ˆå¸Œå€¼ã€‚  </p>
</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸¤ä¸ªæ•°æ®å—å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹Ÿå¾ˆå¯èƒ½å…·æœ‰ç›¸åŒçš„å€¼ã€‚</p>
<p>æ¯”è¾ƒå“ˆå¸Œå€¼æ˜¯æ£€æŸ¥â€œæ˜¯å¦å­˜åœ¨â€çš„ä¸€ç§éå¸¸å¿«é€Ÿçš„æ–¹æ³•ã€‚ è¿™å°±æ˜¯å­—å…¸å’Œé›†åˆç”¨æ¥å¿«é€ŸæŸ¥æ‰¾å†…éƒ¨çš„å€¼çš„æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> timeit</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="string">'999 in l'</span>, setup=<span class="string">'l = list(range(1000))'</span>)</span><br><span class="line"><span class="number">12.224023487000522</span>   <span class="comment"># 12 seconds to run a million times</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>timeit.timeit(<span class="string">'999 in s'</span>, setup=<span class="string">'s = set(range(1000))'</span>)</span><br><span class="line"><span class="number">0.06099735599855194</span>  <span class="comment"># 0.06 seconds for the same thing</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šé›†åˆè§£å†³æ–¹æ¡ˆçš„è¿è¡Œé€Ÿåº¦æ¯”åˆ—è¡¨è§£å†³æ–¹æ¡ˆå¿«æ•°ç™¾å€!ï¼è¿™æ˜¯å› ä¸ºå®ƒä»¬ä½¿ç”¨å“ˆå¸Œå€¼ä½œä¸ºâ€œç´¢å¼•â€çš„æ›¿ä»£ï¼Œå¦‚æœç›¸åŒå“ˆå¸Œ<em>çš„å€¼</em>å·²ç»å­˜å‚¨åœ¨é›†åˆæˆ–å­—å…¸ä¸­ï¼ŒPython å¯ä»¥å¿«é€Ÿæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯åŒä¸€é¡¹ã€‚ è¿™ä¸ªè¿‡ç¨‹å¯ä»¥éå¸¸å³æ—¶åœ°æ£€æŸ¥å“ˆå¸Œå€¼æ˜¯å¦å­˜åœ¨ã€‚</p>
<hr>
<p><strong>è¡¥å……çŸ¥è¯†ï¼š</strong>å…³äºå“ˆå¸Œ</p>
<p>åœ¨ Pythonä¸­ï¼Œæ‰€æœ‰ç›¸ç­‰çš„æ•°å€¼éƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œè¿™ä¸€ç‚¹å¾€å¾€é²œä¸ºäººçŸ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>hash(<span class="number">42</span>) == hash(<span class="number">42.0</span>) == hash(<span class="number">42</span>+<span class="number">0j</span>)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªäº‹å®æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œå¦‚å­—ç¬¦ä¸²ã€å…ƒç»„å’Œä¸å¯å˜é›†åˆï¼Œé€šè¿‡ç»„åˆå„é¡¹çš„å“ˆå¸Œæ¥ç”Ÿæˆå®ƒä»¬è‡ªå·±çš„å“ˆå¸Œã€‚ è¿™ä½¿å¾—ä½ åªéœ€é€šè¿‡ç¼–å†™ <code>hash</code> å‡½æ•°å°±å¯ä»¥ä¸ºç±»åˆ›å»ºè‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, color, wheels=<span class="number">4</span>)</span>:</span></span><br><span class="line">        self.color = color</span><br><span class="line">        self.wheels = wheels</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__hash__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> hash((self.color, self.wheels))</span><br></pre></td></tr></table></figure>

<p>ï¼ˆè¡¥å……çŸ¥è¯†ç»“æŸï¼‰</p>
<hr>
</section>
    <!-- Tags START -->
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2021/11/03/python-builtins-third/">
        <span class="nav-arrow">â† </span>
        
          é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆä¸‰ï¼‰
        
      </a>
    
    
      <a class="nav-right" href="/2021/11/03/python-builtins-fifth/">
        
          é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆäº”ï¼‰
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- æ‰“èµ START -->
    
      <div class="money-like">
        <div class="reward-btn">
          èµ
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨æ”¯ä»˜å®æ‰“èµ</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨å¾®ä¿¡æ‰“èµ</b>
            </span>
          </span>
        </div>
        <p class="notice">è‹¥ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯¹æˆ‘æ‰“èµ</p>
      </div>
    
    <!-- æ‰“èµ END -->
    <!-- äºŒç»´ç  START -->
    <!--% if (theme.qrcode) { %-->
      <div class="qrcode">
        <!--canvas id="share-qrcode"></!--canvas-->
        <img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg" width=400>
        <p class="notice">å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼Œè¯»æ–‡ç« ã€å¬è¯¾ç¨‹ï¼Œæå‡æŠ€èƒ½</p>
      </div>
    <!--% } %-->
    <!-- äºŒç»´ç  END -->
    
      <!-- No Comment -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#str-bytes-int-bool-float-and-complexï¼šäº”ä¸ªåŸºæœ¬ç±»å‹"><span class="toc-nav-text">str, bytes, int, bool, float and complexï¼šäº”ä¸ªåŸºæœ¬ç±»å‹</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#object-ï¼šåŸºç±»"><span class="toc-nav-text">object ï¼šåŸºç±»</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#type-ï¼šç±»å·¥å‚"><span class="toc-nav-text">type ï¼šç±»å·¥å‚</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#hash-and-id-ï¼šåˆ¤æ–­ç›¸ç­‰çš„åŸºç¡€"><span class="toc-nav-text">hash and id ï¼šåˆ¤æ–­ç›¸ç­‰çš„åŸºç¡€</span></a></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'https://qiwsir.github.io/2021/11/03/python-builtins-forth/';
    var banner = ''
    /*if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }*/
    //$('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
  })();
</script>







    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2021 | Proudly powered by è€é½æ•™å®¤ | <a href='http://www.beian.miit.gov.cn' target="_blank" rel="noopener">è‹ICPå¤‡13034293å·-2 </a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>