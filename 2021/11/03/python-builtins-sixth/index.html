<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="ä¸“æ³¨äºç¼–ç¨‹æŠ€æœ¯å’Œæ•°æ®ç§‘å­¦ã€äººå·¥æ™ºèƒ½">
  <meta name="keyword" content="äººå·¥æ™ºèƒ½, æ•°æ®ç§‘å­¦, Python, ç¼–ç¨‹, ç¨‹åºå‘˜, å¼€å‘è€…, web, ç½‘ç«™, è¯­è¨€, ç¨‹åº, UI, ç¾å·¥, è®¾è®¡å¸ˆ">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆå…­ï¼‰ | è€é½æ•™å®¤
    
  </title>
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  
  
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


<meta name="generator" content="Hexo 4.2.0"></head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>è€é½æ•™å®¤</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">é¦–é¡µ</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">ä¹¦ç±</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/courses/" class="item-link">è¯¾ç¨‹</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">ç±»ç›®</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/resources/" class="item-link">èµ„æº</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">å…³äº</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">é¦–é¡µ</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">ä¹¦ç±</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/courses/" class="menu-link">è¯¾ç¨‹</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">ç±»ç›®</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/resources/" class="menu-link">èµ„æº</a>
            

          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">å…³äº</a>
            

          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  
  <!-- <div class="arrow-down">
    <a href="javascript:;"></a>
  </div> -->
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <h2>é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆå…­ï¼‰</h2>
    <p class="post-date">2021-11-03</p>
    <section class="markdown-content"><h3 id="bytearray-and-memoryview-å­—èŠ‚æ¥å£"><a href="#bytearray-and-memoryview-å­—èŠ‚æ¥å£" class="headerlink" title="bytearray and memoryview: å­—èŠ‚æ¥å£"></a><code>bytearray</code> and <code>memoryview</code>: å­—èŠ‚æ¥å£</h3><p><code>bytearray</code> ä¸ <code>bytes</code> ç±»ä¼¼ï¼Œå®ƒçš„æ„ä¹‰ä½“ç°åœ¨ï¼š  </p>
<ul>
<li><p><code>bytearray</code> åœ¨ä¸€äº›ä½çº§æ“ä½œä¸­ï¼Œæ¯”å¦‚æœ‰å…³å­—èŠ‚å’Œä½è¿ç®—ï¼Œä½¿ç”¨ <code>bytearray</code> å¯¹äºæ”¹å˜å•ä¸ªå­—èŠ‚ä¼šæ›´æœ‰æ•ˆã€‚ä¾‹å¦‚ä¸‹é¢çš„é­”å¹»æ“ä½œï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">upper</span><span class="params">(s)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> <span class="string">''</span>.join(chr(ord(c) &amp; <span class="number">223</span>) <span class="keyword">for</span> c <span class="keyword">in</span> s)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">toggle</span><span class="params">(s)</span>:</span> <span class="keyword">return</span> <span class="string">''</span>.join(chr(ord(c) ^ <span class="number">32</span>) <span class="keyword">for</span> c <span class="keyword">in</span> s)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">lower</span><span class="params">(s)</span>:</span> <span class="keyword">return</span> <span class="string">''</span>.join(chr(ord(c) | <span class="number">32</span>) <span class="keyword">for</span> c <span class="keyword">in</span> s)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>upper(<span class="string">"Lao Qi"</span>)</span><br><span class="line"><span class="string">'LAO\x00QI'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>toggle(<span class="string">"Lao Qi"</span>)</span><br><span class="line"><span class="string">'lAO\x00qI'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lower(<span class="string">"Lao Qi"</span>)</span><br><span class="line"><span class="string">'lao qi'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—èŠ‚çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œè€Œå­—ç¬¦ä¸²åˆ™ç”±äºç¼–ç è§„åˆ™ï¼Œå…¶é•¿åº¦ä¼šæœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚æŒ‰ç…§å¸¸ç”¨çš„ unicode ç¼–ç æ ‡å‡† <code>utf-8</code> è¿›è¡Œç¼–ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="string">'Iâ™¥ğŸ'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(x)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.encode()</span><br><span class="line"><span class="string">b'I\xe2\x99\xa5\xf0\x9f\x90\x8d'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(x.encode())</span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">2</span>]</span><br><span class="line"><span class="string">'ğŸ'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">2</span>].encode()</span><br><span class="line"><span class="string">b'\xf0\x9f\x90\x8d'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(x[<span class="number">2</span>].encode())</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>å˜é‡ <code>x</code> å¼•ç”¨çš„å­—ç¬¦ä¸² <code>Iâ™¥ğŸ</code> ç”±ä¸‰ä¸ªå­—ç¬¦æ„æˆï¼Œå®é™…ä¸Šå…±è®¡ 8 ä¸ªå­—èŠ‚ï¼Œè€Œè¡¨æƒ…ç¬¦å· <code>ğŸ</code> æœ‰4ä¸ªå­—èŠ‚é•¿ã€‚æŒ‰ç…§ä¸‹é¢çš„æ¼”ç¤ºï¼Œå¦‚æœè¯»å–è¡¨æƒ…ç¬¦çš„æ¯ä¸ªå•ç‹¬çš„å­—èŠ‚ï¼Œå®ƒçš„â€œå€¼â€æ€»æ˜¯åœ¨ 0 åˆ° 255 ä¹‹é—´:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">2</span>]</span><br><span class="line"><span class="string">'ğŸ'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = x[<span class="number">2</span>].encode()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="string">b'\xf0\x9f\x90\x8d'</span>  <span class="comment"># 4 bytes</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[:<span class="number">1</span>]</span><br><span class="line"><span class="string">b'\xf0'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line"><span class="string">b'\x9f'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">2</span>:<span class="number">3</span>]</span><br><span class="line"><span class="string">b'\x90'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">3</span>:<span class="number">4</span>]</span><br><span class="line"><span class="string">b'\x8d'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">0</span>]  <span class="comment"># indexing a bytes object gives an integer</span></span><br><span class="line"><span class="number">240</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">3</span>]</span><br><span class="line"><span class="number">141</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>ä¸‹é¢æ¥çœ‹ä¸€äº›é’ˆå¯¹å­—èŠ‚çš„ä½æ“ä½œçš„ä¾‹å­:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">alternate_case</span><span class="params">(string)</span>:</span></span><br><span class="line">    <span class="string">"""Turns a string into alternating uppercase and lowercase characters."""</span></span><br><span class="line">    array = bytearray(string.encode())</span><br><span class="line">    <span class="keyword">for</span> index, byte <span class="keyword">in</span> enumerate(array):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ((<span class="number">65</span> &lt;= byte &lt;= <span class="number">90</span>) <span class="keyword">or</span> (<span class="number">97</span> &lt;= byte &lt;= <span class="number">126</span>)):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            array[index] = byte | <span class="number">32</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            array[index] = byte &amp; ~<span class="number">32</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> array.decode()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alternate_case(<span class="string">'Hello WORLD?'</span>)</span><br><span class="line"><span class="string">'hElLo wOrLd?'</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç¤ºä¾‹ï¼Œå› æ­¤ä¸ç”¨è€—è´¹ç²¾åŠ›è§£é‡Šå®ƒï¼Œä½†å®ƒç¡®å®æœ‰æ•ˆï¼Œè€Œä¸”ï¼Œç›¸æ¯”äºä¸ºæ¯ä¸ªå­—ç¬¦çš„æ›´æ”¹åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>bytes</code> å¯¹è±¡ï¼Œå®ƒæ›´æœ‰æ•ˆã€‚  </p>
<p>å¦å¤–ä¸€ä¸ªå†…ç½®å‡½æ•° <code>memoryview</code> ä¸ <code>bytearray</code> å¾ˆç±»ä¼¼ï¼Œä½†å®ƒå¯ä»¥å¼•ç”¨ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè€Œä¸æ˜¯ä¸ºè‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„å‰¯æœ¬ï¼Œå…è®¸ä½ ä¼ ä¸€ä¸ªå¯¹å†…å­˜ä¸­â€œå­—èŠ‚æ®µâ€çš„å¼•ç”¨ï¼Œå¹¶åœ¨åŸåœ°ç¼–è¾‘å®ƒ:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>array = bytearray(range(<span class="number">256</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>array</span><br><span class="line">bytearray(<span class="string">b'\x00\x01\x02\x03\x04\x05\x06\x07\x08...</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; len(array)</span></span><br><span class="line"><span class="string">256</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; array_slice = array[65:91]  # Bytes 65 to 90 are uppercase english characters</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; array_slice</span></span><br><span class="line"><span class="string">bytearray(b'</span>ABCDEFGHIJKLMNOPQRSTUVWXYZ<span class="string">')</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; view = memoryview(array)[65:91]  # Does the same thing,</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; view</span></span><br><span class="line"><span class="string">&lt;memory at 0x7f438cefe040&gt;  # but doesn'</span>t generate a new new bytearray by default</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray(view)</span><br><span class="line">bytearray(<span class="string">b'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span>)  <span class="comment"># It can still be converted, though.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>view[<span class="number">0</span>]  <span class="comment"># 'A'</span></span><br><span class="line"><span class="number">65</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>view[<span class="number">0</span>] += <span class="number">32</span>  <span class="comment"># Turns it lowercase</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray(view)</span><br><span class="line">bytearray(<span class="string">b'aBCDEFGHIJKLMNOPQRSTUVWXYZ'</span>)  <span class="comment"># 'A' is now lowercase.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray(view[<span class="number">10</span>:<span class="number">15</span>])</span><br><span class="line">bytearray(<span class="string">b'KLMNO'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>view[<span class="number">10</span>:<span class="number">15</span>] = bytearray(view[<span class="number">10</span>:<span class="number">15</span>]).lower()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray(view)</span><br><span class="line">bytearray(<span class="string">b'aBCDEFGHIJklmnoPQRSTUVWXYZ'</span>)  <span class="comment"># Modified 'KLMNO' in-place.</span></span><br></pre></td></tr></table></figure>

<h3 id="bin-hex-oct-ord-chr-and-ascii-ï¼šå®ç°æœ€åŸºæœ¬è½¬æ¢"><a href="#bin-hex-oct-ord-chr-and-ascii-ï¼šå®ç°æœ€åŸºæœ¬è½¬æ¢" class="headerlink" title="bin, hex, oct, ord, chr and ascii ï¼šå®ç°æœ€åŸºæœ¬è½¬æ¢"></a><code>bin</code>, <code>hex</code>, <code>oct</code>, <code>ord</code>, <code>chr</code> and <code>ascii</code> ï¼šå®ç°æœ€åŸºæœ¬è½¬æ¢</h3><p><code>bin</code> ã€<code>hex</code> å’Œ <code>oct</code> ä¸‰ä¸ªå†…ç½®å‡½æ•°å®ç°äº†æœ€åŸºæœ¬çš„æ•°åˆ¶è½¬æ¢ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bin(<span class="number">42</span>)</span><br><span class="line"><span class="string">'0b101010'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hex(<span class="number">42</span>)</span><br><span class="line"><span class="string">'0x2a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>oct(<span class="number">42</span>)</span><br><span class="line"><span class="string">'0o52'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0b101010</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0x2a</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0o52</span></span><br><span class="line"><span class="number">42</span></span><br></pre></td></tr></table></figure>

<p>è½»æ¾åœ°å®ç°äº†äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶ä¸åè¿›åˆ¶æ•´æ•°ä¹‹é—´çš„è½¬æ¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="number">0x20</span>)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">int</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(<span class="number">0b101010</span>)</span></span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">int</span>'&gt;</span></span><br><span class="line">&gt;&gt;&gt; 0o100 == 64</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>è™½ç„¶åè¿›åˆ¶å®¹æ˜“ç†è§£ï¼Œä½†åœ¨æœ‰çš„æ—¶å€™ï¼Œç”¨å…¶ä»–è¿›åˆ¶ï¼Œä¹Ÿæ˜¯æœ‰å¿…è¦çš„ï¼Œå¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytes([<span class="number">255</span>, <span class="number">254</span>])</span><br><span class="line"><span class="string">b'\xff\xfe'</span>              <span class="comment"># Not very easy to comprehend</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># This can be written as:</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytes([<span class="number">0xff</span>, <span class="number">0xfe</span>])</span><br><span class="line"><span class="string">b'\xff\xfe'</span>              <span class="comment"># An exact one-to-one translation</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œåˆ™å°†æ–‡ä»¶çš„æ‰“å¼€æ¨¡å¼ <code>mode</code> çš„å€¼ç”¨å…«è¿›åˆ¶å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.open(<span class="string">'file.txt'</span>, os.O_RDWR, mode=<span class="number">384</span>)    <span class="comment"># ??? what's 384</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># This can be written as:</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.open(<span class="string">'file.txt'</span>, os.O_RDWR, mode=<span class="number">0o600</span>)  <span class="comment"># mode is 600 -&gt; read-write</span></span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œ<code>bin</code> ä»…ç”¨äºåˆ›å»ºä¸€ä¸ª Python æ•´æ•°çš„äºŒè¿›åˆ¶æ•°æ—¶ï¼Œå¦‚æœæƒ³è¦çš„æ˜¯äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæœ€å¥½ä½¿ç”¨ Python çš„å­—ç¬¦ä¸²æ ¼å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f'<span class="subst">&#123;<span class="number">42</span>:b&#125;</span>'</span></span><br><span class="line"><span class="number">101010</span></span><br></pre></td></tr></table></figure>

<p>å†…ç½®å‡½æ•° <code>ord</code> å’Œ <code>chr</code> ç”¨äºå®ç° ASCII å’Œ unicode å­—ç¬¦åŠå…¶å­—ç¬¦ç¼–ç é—´çš„è½¬æ¢ï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'x'</span>)</span><br><span class="line"><span class="number">120</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">120</span>)</span><br><span class="line"><span class="string">'x'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'ğŸ'</span>)</span><br><span class="line"><span class="number">128013</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hex(ord(<span class="string">'ğŸ'</span>))</span><br><span class="line"><span class="string">'0x1f40d'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">0x1f40d</span>)</span><br><span class="line"><span class="string">'ğŸ'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'\U0001f40d'</span>  <span class="comment"># The same value, as a unicode escape inside a string</span></span><br><span class="line"><span class="string">'ğŸ'</span></span><br></pre></td></tr></table></figure>

<h3 id="formatï¼šæ–‡æœ¬æ ¼å¼"><a href="#formatï¼šæ–‡æœ¬æ ¼å¼" class="headerlink" title="formatï¼šæ–‡æœ¬æ ¼å¼"></a><code>format</code>ï¼šæ–‡æœ¬æ ¼å¼</h3><p>å†…ç½®å‡½æ•° <code>format(string, spec)</code> æ˜¯ <code>string.format(spec)</code> çš„å¦ä¸€ç§æ–¹å¼ã€‚å¯ä»¥ç”¨å®ƒå®ç°å­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">42</span>, <span class="string">'c'</span>)             <span class="comment"># int to ascii</span></span><br><span class="line"><span class="string">'*'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">604</span>, <span class="string">'f'</span>)            <span class="comment"># int to float</span></span><br><span class="line"><span class="string">'604.000000'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">357</span>/<span class="number">18</span>, <span class="string">'.2f'</span>)       <span class="comment"># specify decimal precision</span></span><br><span class="line"><span class="string">'19.83'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">604</span>, <span class="string">'x'</span>)            <span class="comment"># int to hex</span></span><br><span class="line"><span class="string">'25c'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">604</span>, <span class="string">'b'</span>)            <span class="comment"># int to binary</span></span><br><span class="line"><span class="string">'1001011100'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">604</span>, <span class="string">'0&gt;16b'</span>)        <span class="comment"># binary with zero-padding</span></span><br><span class="line"><span class="string">'0000001001011100'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="string">'Python!'</span>, <span class="string">'ğŸ^15'</span>)  <span class="comment"># centered aligned text</span></span><br><span class="line"><span class="string">'ğŸğŸğŸğŸPython!ğŸğŸğŸğŸ'</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ã€ŠPython å¤§å­¦ä½¿ç”¨æ•™ç¨‹ã€‹ ä¸€ä¹¦ä¸­å¯¹å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–è¾“å‡ºæœ‰è¯¦ç»†ä»‹ç»ï¼Œå¹¶ä¸”åœ¨å¦å¤–ä¸€æœ¬å³å°†å‡ºç‰ˆçš„ä¹¦ç¨¿ä¸­ï¼Œä¸“é—¨ä»‹ç»äº†æ ¼å¼åŒ–è¾“å‡ºï¼Œè¯·å‚é˜…ï¼šã€<a href="https://mp.weixin.qq.com/s/KQP5OY9Eoa2vBStPRF6UTA" target="_blank" rel="noopener">å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º</a>ã€‘ï¼Œæˆ–è€…è®¿é—®ï¼š<a href="http://www.itdiffer.com/self-learning.html" target="_blank" rel="noopener">http://www.itdiffer.com/self-learning.html</a> æŸ¥é˜…ã€‚</p>
<h3 id="any-å’Œ-all"><a href="#any-å’Œ-all" class="headerlink" title="any å’Œ all"></a><code>any</code> å’Œ <code>all</code></h3><p>è¿™æ˜¯ä¸¤ä¸ªéå¸¸ Pythonic çš„å‡½æ•°ï¼Œæ°å½“ä½¿ç”¨ï¼Œèƒ½è®©ä»£ç æ›´çŸ­ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œä½“ç°äº† Python çš„ç²¾é«“ã€‚ä¾‹å¦‚ï¼š</p>
<p>å‡è®¾ç¼–å†™ä¸€ä¸ªéªŒè¯è¯·æ±‚æ˜¯å¦åˆè§„çš„ APIï¼Œæ¥å—æ¥è‡ªè¯·æ±‚çš„ JSON æ•°æ®ï¼Œåˆ¤æ–­è¯¥æ•°æ®ä¸­æ˜¯å¦å«æœ‰ <code>id</code> å­—æ®µï¼Œå¹¶ä¸”è¯¥å­—æ®µçš„é•¿åº¦å¿…é¡»æ˜¯ <code>20</code> ï¼Œä¸€ç§å¸¸è§çš„å†™æ³•æ˜¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validate_responses</span><span class="params">(responses)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> response <span class="keyword">in</span> responses:</span><br><span class="line">        <span class="comment"># Make sure that `id` exists</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">'id'</span> <span class="keyword">not</span> <span class="keyword">in</span> response:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="comment"># Make sure it is a string</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(response[<span class="string">'id'</span>], str):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="comment"># Make sure it is 20 characters</span></span><br><span class="line">        <span class="keyword">if</span> len(response[<span class="string">'id'</span>]) != <span class="number">20</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># If everything was True so far for every</span></span><br><span class="line">    <span class="comment"># response, then we can return True.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>ç”¨ <code>all</code> å‡½æ•°ä¼˜åŒ–ä¹‹åä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validate_responses</span><span class="params">(responses)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> all(</span><br><span class="line">        <span class="string">'id'</span> <span class="keyword">in</span> response</span><br><span class="line">        <span class="keyword">and</span> isinstance(response[<span class="string">'id'</span>], str)</span><br><span class="line">        <span class="keyword">and</span> len(response[<span class="string">'id'</span>]) == <span class="number">20</span></span><br><span class="line">        <span class="keyword">for</span> response <span class="keyword">in</span> responses</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p><code>all</code> çš„å‚æ•°æ˜¯å¸ƒå°”å€¼ç»„æˆçš„è¿­ä»£å™¨ï¼Œè‹¥è¿­ä»£å™¨ä¸­æœ‰ä¸€ä¸ª <code>False</code> å€¼ï¼Œå‡½æ•° <code>all</code> çš„è¿”å›å³ä¸º <code>False</code> ã€‚å¦åˆ™è¿”å› <code>True</code> ã€‚  </p>
<p>å†çœ‹ä¸€ä¸ªåˆ¤æ–­å›æ–‡çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">contains_palindrome</span><span class="params">(words)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">        <span class="keyword">if</span> word == <span class="string">''</span>.join(reversed(word)):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Found no palindromes in the end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>ä¸ä¹‹ç›¸å¯¹çš„æ˜¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">contains_palindrome</span><span class="params">(words)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> any(word == <span class="string">''</span>.join(reversed(word)) <span class="keyword">for</span> word <span class="keyword">in</span> words)</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>è¡¥å……çŸ¥è¯†ï¼š</strong> <code>any</code> å’Œ <code>all</code> å†…éƒ¨çš„åˆ—è¡¨è§£æ</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠä½¿ç”¨ <code>any</code> æˆ– <code>all</code> çš„ä»£ç å†™æˆåˆ—è¡¨è§£æå¼:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>any([num == <span class="number">0</span> <span class="keyword">for</span> num <span class="keyword">in</span> nums])</span><br></pre></td></tr></table></figure>

<p>è€Œä¸æ˜¯ç”Ÿæˆå™¨è¡¨è¾¾å¼:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>any(num == <span class="number">0</span> <span class="keyword">for</span> num <span class="keyword">in</span> nums)</span><br></pre></td></tr></table></figure>

<p>ç”¨åˆ—è¡¨è§£æå’Œç”Ÿæˆå™¨ï¼Œä¸¤è€…æœ‰è¾ƒå¤§çš„åŒºåˆ«ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>any(num == <span class="number">10</span> <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">100</span>_000_000))</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>any([num == <span class="number">10</span> <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">100</span>_000_000)])</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åˆ—è¡¨è§£æçš„ç¬¬äºŒè¡Œä»£ç ä¸ä»…ä¼šåœ¨åˆ—è¡¨ä¸­æ¯«æ— ç†ç”±åœ°å­˜å‚¨1äº¿ä¸ªå€¼ï¼Œç„¶åå†è¿è¡Œ <code>any</code> ï¼Œè€Œä¸”åœ¨æˆ‘çš„æœºå™¨ä¸Šä¹Ÿéœ€è¦10ç§’ä»¥ä¸Šçš„æ—¶é—´ã€‚ åŒæ—¶ï¼Œå› ä¸ºç¬¬ä¸€è¡Œä»£ç æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼Œå®ƒä¼šé€ä¸ªç”Ÿæˆä» 0 åˆ° 10 çš„æ•°å­—ï¼Œå¹¶å°†å®ƒä»¬ä¼ ç»™ <code>any</code> ï¼Œä¸€æ—¦è®¡æ•°è¾¾åˆ° 10ï¼Œ<code>any</code> å°±ä¼šä¸­æ–­è¿­ä»£å¹¶å‡ ä¹ç«‹å³è¿”å› <code>True</code> ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„è¿è¡Œé€Ÿåº¦å®é™…ä¸Šå¿«äº†ä¸€åƒä¸‡å€ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¦ä½¿ç”¨ç”Ÿæˆå™¨ã€‚</p>
<blockquote>
<p>å…³äºç”Ÿæˆå™¨çš„æ›´å¤šçŸ¥è¯†ï¼Œè¯·æŸ¥é˜…ã€ŠPython å¤§å­¦å®ç”¨æ•™ç¨‹ã€‹ï¼ˆç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ï¼‰</p>
</blockquote>
<p>ï¼ˆè¡¥å……çŸ¥è¯†å®Œæ¯•ï¼‰</p>
<hr>
<h3 id="abs-divmod-pow-and-round-ï¼šæ•°å­¦åŸºç¡€"><a href="#abs-divmod-pow-and-round-ï¼šæ•°å­¦åŸºç¡€" class="headerlink" title="abs, divmod, pow and round ï¼šæ•°å­¦åŸºç¡€"></a><code>abs</code>, <code>divmod</code>, <code>pow</code> and <code>round</code> ï¼šæ•°å­¦åŸºç¡€</h3><p>è¿™å››ä¸ªæ•°å­¦å‡½æ•°åœ¨ç¼–ç¨‹ä¸­éå¸¸å¸¸è§ï¼Œå®ƒä»¬è¢«ç›´æ¥æ”¾åœ¨éšæ—¶å¯ç”¨çš„å†…ç½®å‡½æ•°ä¸­ï¼Œè€Œä¸æ˜¯æ”¾åœ¨ <code>math</code> æ¨¡å—ä¸­ã€‚ </p>
<p>å®ƒä»¬éå¸¸ç®€å•:  </p>
<ul>
<li><p><code>abs</code> è¿”å›ä¸€ä¸ªæ•°å­—çš„ç»å¯¹å€¼ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>abs(<span class="number">42</span>)</span><br><span class="line"><span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>abs(<span class="number">-3.14</span>)</span><br><span class="line"><span class="number">3.14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>abs(<span class="number">3</span><span class="number">-4j</span>)</span><br><span class="line"><span class="number">5.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>divmod</code> è¿”å›é™¤æ³•è¿ç®—åçš„å•†å’Œä½™æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>divmod(<span class="number">7</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>quotient, remainder = divmod(<span class="number">5327</span>, <span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>quotient</span><br><span class="line"><span class="number">53</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>remainder</span><br><span class="line"><span class="number">27</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pow</code> è¿”å›ä¸€ä¸ªå€¼çš„æŒ‡æ•°è¿ç®—ç»“æœï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>pow(<span class="number">100</span>, <span class="number">3</span>)</span><br><span class="line"><span class="number">1000000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pow(<span class="number">2</span>, <span class="number">10</span>)</span><br><span class="line"><span class="number">1024</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>round</code> æŒ‰ç…§å››èˆäº”å…¥åŸåˆ™è¿”å›æ•°å­—ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.pi</span><br><span class="line"><span class="number">3.141592653589793</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(math.pi)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(math.pi, <span class="number">4</span>)</span><br><span class="line"><span class="number">3.1416</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">1728</span>, <span class="number">-2</span>)</span><br><span class="line"><span class="number">1700</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="isinstance-and-issubclass-ï¼šç±»å‹æ£€æŸ¥"><a href="#isinstance-and-issubclass-ï¼šç±»å‹æ£€æŸ¥" class="headerlink" title="isinstance and issubclass ï¼šç±»å‹æ£€æŸ¥"></a><code>isinstance</code> and <code>issubclass</code> ï¼šç±»å‹æ£€æŸ¥</h3><p><code>type</code> å†…ç½®å‡½æ•°å¯ä»¥ç”¨äºå¯¹è±¡çš„ç±»å‹æ£€æŸ¥ï¼Œå°±åƒè¿™æ ·:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_stuff</span><span class="params">(stuff)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> type(stuff) <span class="keyword">is</span> list:</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> stuff:</span><br><span class="line">            print(item)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(stuff)</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‡½æ•°ä¸­æ£€éªŒå‚æ•°å¯¹è±¡æ˜¯å¦æ˜¯ <code>list</code> ç±»å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_stuff(<span class="string">'foo'</span>)</span><br><span class="line">foo</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_stuff(<span class="number">123</span>)</span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_stuff([<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>])</span><br><span class="line">spam</span><br><span class="line">eggs</span><br><span class="line">steak</span><br></pre></td></tr></table></figure>

<p>ç›®å‰çœ‹èµ·æ¥ï¼Œå®ƒèƒ½è¿è¡Œï¼Œä½†æ˜¯ï¼Œå®é™…ä¸Šå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­: </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">MyList</span><span class="params">(list)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>items = MyList([<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>items</span><br><span class="line">[<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_stuff(items)</span><br><span class="line">[<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>]</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œ<code>items</code> ä»ç„¶æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œä½†æ˜¯ <code>print_stuff</code> å‡½æ•°ä¸å†è¯†åˆ«å®ƒäº†ã€‚ åŸå› å¾ˆç®€å•ï¼Œå› ä¸º <code>type(items)</code> çš„è¿”å›å€¼æ˜¯ <code>MyList</code> ï¼Œä¸æ˜¯ <code>list</code> ã€‚</p>
<p>ä¹Ÿå¯ä»¥è¯´ï¼Œå‡½æ•° <code>type</code> æ²¡æœ‰è€ƒè™‘ç»§æ‰¿é—®é¢˜ï¼Œå¦‚æœæ”¹ç”¨ <code>isinstance</code> ï¼Œå®ƒä¸ä»…æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œå®ƒè¿˜æ£€æŸ¥è¯¥å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå­ç±»çš„å®ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">MyList</span><span class="params">(list)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>items = [<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(items) <span class="keyword">is</span> list</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(items, list)</span><br><span class="line"><span class="literal">True</span>   <span class="comment"># Both of these do the same thing</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>items = MyList([<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(items) <span class="keyword">is</span> list</span><br><span class="line"><span class="literal">False</span>  <span class="comment"># And while `type` doesn't work,</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(items, list)</span><br><span class="line"><span class="literal">True</span>   <span class="comment"># `isinstance` works with subclasses too.</span></span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼åœ°ï¼Œ <code>issubclass</code> æ£€æŸ¥ä¸€ä¸ªç±»æ˜¯å¦æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ã€‚ <code>isinstance</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½† <code>issubclass</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦ä¸€ä¸ªç±»:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(MyList, list)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œåº”è¯¥å°† <code>print_stuff</code> å‡½æ•°ä¸­çš„ <code>type</code> æ›¿æ¢ä¸º <code>isinstance</code> ï¼Œä¼˜åŒ–ä¹‹åï¼Œç»§ç»­æµ‹è¯•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>items = (<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_stuff(items)</span><br><span class="line">(<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¼ å…¥çš„å®å‚ä¸æ˜¯åˆ—è¡¨ï¼Œåˆ™ä¸èƒ½è¾“å‡ºå®å‚å¯¹è±¡ç±»å‹ã€‚å¯¹æ­¤çš„ä¸€ç§è§£å†³æ–¹æ³•å°±æ˜¯é€šè¿‡å¤šåˆ†æ”¯çš„ <code>if</code> è¯­å¥å®ç°ã€‚å¦‚æœåªæ˜¯å†…ç½®å¯¹è±¡è¿˜å¥½åŠä¸€äº›ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œåˆ†æ”¯å¤ªå¤šï¼Œä»£ç ä¹Ÿæ˜¯ä¸‘é™‹çš„ã€‚</p>
<p>ä¸ºæ­¤ï¼ŒPython ä¸­æœ‰ä¸€ä¸ªå«æœ‰å„ç§å†…ç½®ç±»å‹çš„â€œç±»â€ï¼Œå¯ä»¥ç”¨å®ƒä»¬æ¥æµ‹è¯•ç±»çš„æŸäº›â€œè¡Œä¸ºâ€ï¼Œè€Œä¸æ˜¯æµ‹è¯•ç±»æœ¬èº«ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¡Œä¸ºæ˜¯ä½œä¸ºå…¶ä»–å¯¹è±¡çš„å®¹å™¨ï¼Œç§°ä¹‹ä¸º <code>Container</code>ï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Container</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>items = (<span class="string">'spam'</span>, <span class="string">'eggs'</span>, <span class="string">'steak'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(items, tuple)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(items, list)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(items, Container)</span><br><span class="line"><span class="literal">True</span>  <span class="comment"># This works!</span></span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªå®¹å™¨å¯¹è±¡ç±»å‹éƒ½ä¼šåœ¨ <code>Container</code> åŸºç±»çš„æ£€æŸ¥ä¸­è¿”å› <code>True</code> ï¼Œ <code>issubclass</code> ä¹Ÿè¡Œä¹‹æœ‰æ•ˆ:  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Container</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(list, Container)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(tuple, Container)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(set, Container)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(dict, Container)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>æŠŠå®ƒæ·»åŠ åˆ°ä»£ç ä¸­ï¼Œå°±å˜æˆ:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Container</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_stuff</span><span class="params">(stuff)</span>:</span>    </span><br><span class="line">    <span class="keyword">if</span> isinstance(stuff, Container):     </span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> stuff:           </span><br><span class="line">            print(item)    </span><br><span class="line">    <span class="keyword">else</span>:       </span><br><span class="line">        print(stuff)</span><br></pre></td></tr></table></figure>

<p>æœ€åè¦ç‰¹åˆ«å£°æ˜ï¼šåœ¨å®é™…çš„ç¼–ç¨‹ä¸­ï¼Œä¸æå€¡å¯¹å‚æ•°ç±»å‹è¿›è¡Œæ£€æŸ¥ã€‚å…·ä½“åŸå› ï¼Œè¯·å‚é˜…ã€ŠPython å¤§å­¦å®ç”¨æ•™ç¨‹ã€‹ï¼ˆç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ï¼‰ä¸­å¯¹â€œå¤šæ€â€çš„è®²è§£å†…å®¹ã€‚</p>
</section>
    <!-- Tags START -->
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2021/11/03/python-builtins-fifth/">
        <span class="nav-arrow">â† </span>
        
          é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆäº”ï¼‰
        
      </a>
    
    
      <a class="nav-right" href="/2021/11/03/python-builtins-seventh/">
        
          é€šè¿‡å†…ç½®å¯¹è±¡ç†è§£ Pythonï¼ˆä¸ƒï¼‰
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- æ‰“èµ START -->
    
      <div class="money-like">
        <div class="reward-btn">
          èµ
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨æ”¯ä»˜å®æ‰“èµ</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨å¾®ä¿¡æ‰“èµ</b>
            </span>
          </span>
        </div>
        <p class="notice">è‹¥ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯¹æˆ‘æ‰“èµ</p>
      </div>
    
    <!-- æ‰“èµ END -->
    <!-- äºŒç»´ç  START -->
    <!--% if (theme.qrcode) { %-->
      <div class="qrcode">
        <!--canvas id="share-qrcode"></!--canvas-->
        <img src="https://public-tuchuang.oss-cn-hangzhou.aliyuncs.com/WechatIMG6_20200109154827.jpeg" width=400>
        <p class="notice">å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼Œè¯»æ–‡ç« ã€å¬è¯¾ç¨‹ï¼Œæå‡æŠ€èƒ½</p>
      </div>
    <!--% } %-->
    <!-- äºŒç»´ç  END -->
    
      <!-- No Comment -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#bytearray-and-memoryview-å­—èŠ‚æ¥å£"><span class="toc-nav-text">bytearray and memoryview: å­—èŠ‚æ¥å£</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#bin-hex-oct-ord-chr-and-ascii-ï¼šå®ç°æœ€åŸºæœ¬è½¬æ¢"><span class="toc-nav-text">bin, hex, oct, ord, chr and ascii ï¼šå®ç°æœ€åŸºæœ¬è½¬æ¢</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#formatï¼šæ–‡æœ¬æ ¼å¼"><span class="toc-nav-text">formatï¼šæ–‡æœ¬æ ¼å¼</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#any-å’Œ-all"><span class="toc-nav-text">any å’Œ all</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#abs-divmod-pow-and-round-ï¼šæ•°å­¦åŸºç¡€"><span class="toc-nav-text">abs, divmod, pow and round ï¼šæ•°å­¦åŸºç¡€</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#isinstance-and-issubclass-ï¼šç±»å‹æ£€æŸ¥"><span class="toc-nav-text">isinstance and issubclass ï¼šç±»å‹æ£€æŸ¥</span></a></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'https://qiwsir.github.io/2021/11/03/python-builtins-sixth/';
    var banner = ''
    /*if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }*/
    //$('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
  })();
</script>







    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2021 | Proudly powered by è€é½æ•™å®¤ | <a href='http://www.beian.miit.gov.cn' target="_blank" rel="noopener">è‹ICPå¤‡13034293å·-2 </a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>